"use strict";var f=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var d=Object.prototype.hasOwnProperty;var l=(t,e)=>{for(var r in e)f(t,r,{get:e[r],enumerable:!0})},y=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of m(e))!d.call(t,a)&&a!==r&&f(t,a,{get:()=>e[a],enumerable:!(i=p(e,a))||i.enumerable});return t};var w=t=>y(f({},"__esModule",{value:!0}),t);var h={};l(h,{default:()=>g});module.exports=w(h);var u=require("child_process");var n=require("@raycast/api"),o=require("child_process");function x(t){let e=(0,n.getPreferenceValues)(),r=[];return e.preventDisplay&&r.push("d"),e.preventDisk&&r.push("m"),e.preventSystem&&r.push("i"),typeof t=="string"&&r.push(` ${t}`),r.length>0?`-${r.join("")}`:""}async function c(t=!0,e){if(t)try{await(0,n.launchCommand)({name:"index",type:n.LaunchType.Background,context:{caffinated:!1}})}catch(r){console.error(r)}return e&&await(0,n.showHUD)(e),(0,o.exec)("/usr/bin/killall caffeinate")}async function s(t=!0,e,r){if(await c(!1),t)try{await(0,n.launchCommand)({name:"index",type:n.LaunchType.Background,context:{caffinated:!0}})}catch(i){console.error(i)}return e&&await(0,n.showHUD)(e),(0,o.exec)(`/usr/bin/caffeinate ${x(r)}`)}var g=async()=>{try{(0,u.execSync)("ps aux | pgrep caffeinate"),await c(!0,"Your Mac is now decaffeinated")}catch{await s(!0,"Your Mac is now caffeinated")}};0&&(module.exports={});
