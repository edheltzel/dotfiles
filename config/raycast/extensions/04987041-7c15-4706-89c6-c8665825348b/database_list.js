"use strict";var cn=Object.create;var Fe=Object.defineProperty;var fn=Object.getOwnPropertyDescriptor;var dn=Object.getOwnPropertyNames;var pn=Object.getPrototypeOf,mn=Object.prototype.hasOwnProperty;var A=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),gn=(e,t)=>{for(var r in t)Fe(e,r,{get:t[r],enumerable:!0})},_t=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of dn(t))!mn.call(e,i)&&i!==r&&Fe(e,i,{get:()=>t[i],enumerable:!(n=fn(t,i))||n.enumerable});return e};var ye=(e,t,r)=>(r=e!=null?cn(pn(e)):{},_t(t||!e||!e.__esModule?Fe(r,"default",{value:e,enumerable:!0}):r,e)),yn=e=>_t(Fe({},"__esModule",{value:!0}),e);var qt=A(Xt=>{Xt.entityMap={lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",times:"\xD7",divide:"\xF7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",euro:"\u20AC",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}});var zt=A(ht=>{var ut=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,jt=new RegExp("[\\-\\.0-9"+ut.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),Ut=new RegExp("^"+ut.source+jt.source+"*(?::"+ut.source+jt.source+"*)?$"),we=0,G=1,se=2,De=3,ae=4,oe=5,ve=6,_e=7;function ue(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,ue)}ue.prototype=new Error;ue.prototype.name=ue.name;function Bt(){}Bt.prototype={parse:function(e,t,r){var n=this.domBuilder;n.startDocument(),$t(t,t={}),wn(e,t,r,n,this.errorHandler),n.endDocument()}};function wn(e,t,r,n,i){function h(S){if(S>65535){S-=65536;var C=55296+(S>>10),F=56320+(S&1023);return String.fromCharCode(C,F)}else return String.fromCharCode(S)}function o(S){var C=S.slice(1,-1);return C in r?r[C]:C.charAt(0)==="#"?h(parseInt(C.substr(1).replace("x","0x"))):(i.error("entity not found:"+S),S)}function c(S){if(S>I){var C=e.substring(I,S).replace(/&#?\w+;/g,o);p&&l(I),n.characters(C,0,S-I),I=S}}function l(S,C){for(;S>=w&&(C=d.exec(e));)m=C.index,w=m+C[0].length,p.lineNumber++;p.columnNumber=S-m+1}for(var m=0,w=0,d=/.*(?:\r\n?|\n)|.*$/g,p=n.locator,E=[{currentNSMap:t}],b={},I=0;;){try{var O=e.indexOf("<",I);if(O<0){if(!e.substr(I).match(/^\s*$/)){var x=n.doc,B=x.createTextNode(e.substr(I));x.appendChild(B),n.currentElement=B}return}switch(O>I&&c(O),e.charAt(O+1)){case"/":var v=e.indexOf(">",O+3),f=e.substring(O+2,v),u=E.pop();v<0?(f=e.substring(O+2).replace(/[\s<].*/,""),i.error("end tag name: "+f+" is not complete:"+u.tagName),v=O+1+f.length):f.match(/\s</)&&(f=f.replace(/[\s<].*/,""),i.error("end tag name: "+f+" maybe not complete"),v=O+1+f.length);var D=u.localNSMap,s=u.tagName==f,y=s||u.tagName&&u.tagName.toLowerCase()==f.toLowerCase();if(y){if(n.endElement(u.uri,u.localName,f),D)for(var N in D)n.endPrefixMapping(N);s||i.fatalError("end tag name: "+f+" is not match the current start tagName:"+u.tagName)}else E.push(u);v++;break;case"?":p&&l(O),v=bn(e,O,n);break;case"!":p&&l(O),v=En(e,O,n,i);break;default:p&&l(O);var a=new Wt,g=E[E.length-1].currentNSMap,v=Dn(e,O,a,g,o,i),T=a.length;if(!a.closed&&Nn(e,v,a.tagName,b)&&(a.closed=!0,r.nbsp||i.warning("unclosed xml attribute")),p&&T){for(var M=kt(p,{}),L=0;L<T;L++){var R=a[L];l(R.offset),R.locator=kt(p,{})}n.locator=M,Vt(a,n,g)&&E.push(a),n.locator=p}else Vt(a,n,g)&&E.push(a);a.uri==="http://www.w3.org/1999/xhtml"&&!a.closed?v=vn(e,v,a.tagName,o,n):v++}}catch(S){if(S instanceof ue)throw S;i.error("element parse error: "+S),v=-1}v>I?I=v:c(Math.max(O,I)+1)}}function kt(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function Dn(e,t,r,n,i,h){function o(E,b,I){E in r.attributeNames&&h.fatalError("Attribute "+E+" redefined"),r.addValue(E,b,I)}for(var c,l,m=++t,w=we;;){var d=e.charAt(m);switch(d){case"=":if(w===G)c=e.slice(t,m),w=De;else if(w===se)w=De;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(w===De||w===G)if(w===G&&(h.warning('attribute value must after "="'),c=e.slice(t,m)),t=m+1,m=e.indexOf(d,t),m>0)l=e.slice(t,m).replace(/&#?\w+;/g,i),o(c,l,t-1),w=oe;else throw new Error("attribute value no end '"+d+"' match");else if(w==ae)l=e.slice(t,m).replace(/&#?\w+;/g,i),o(c,l,t),h.warning('attribute "'+c+'" missed start quot('+d+")!!"),t=m+1,w=oe;else throw new Error('attribute value must after "="');break;case"/":switch(w){case we:r.setTagName(e.slice(t,m));case oe:case ve:case _e:w=_e,r.closed=!0;case ae:case G:case se:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return h.error("unexpected end of input"),w==we&&r.setTagName(e.slice(t,m)),m;case">":switch(w){case we:r.setTagName(e.slice(t,m));case oe:case ve:case _e:break;case ae:case G:l=e.slice(t,m),l.slice(-1)==="/"&&(r.closed=!0,l=l.slice(0,-1));case se:w===se&&(l=c),w==ae?(h.warning('attribute "'+l+'" missed quot(")!'),o(c,l.replace(/&#?\w+;/g,i),t)):((n[""]!=="http://www.w3.org/1999/xhtml"||!l.match(/^(?:disabled|checked|selected)$/i))&&h.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),o(l,l,t));break;case De:throw new Error("attribute value missed!!")}return m;case"\x80":d=" ";default:if(d<=" ")switch(w){case we:r.setTagName(e.slice(t,m)),w=ve;break;case G:c=e.slice(t,m),w=se;break;case ae:var l=e.slice(t,m).replace(/&#?\w+;/g,i);h.warning('attribute "'+l+'" missed quot(")!!'),o(c,l,t);case oe:w=ve;break}else switch(w){case se:var p=r.tagName;(n[""]!=="http://www.w3.org/1999/xhtml"||!c.match(/^(?:disabled|checked|selected)$/i))&&h.warning('attribute "'+c+'" missed value!! "'+c+'" instead2!!'),o(c,c,t),t=m,w=G;break;case oe:h.warning('attribute space is required"'+c+'"!!');case ve:w=G,t=m;break;case De:w=ae,t=m;break;case _e:throw new Error("elements closed character '/' and '>' must be connected to")}}m++}}function Vt(e,t,r){for(var n=e.tagName,i=null,d=e.length;d--;){var h=e[d],o=h.qName,c=h.value,p=o.indexOf(":");if(p>0)var l=h.prefix=o.slice(0,p),m=o.slice(p+1),w=l==="xmlns"&&m;else m=o,l=null,w=o==="xmlns"&&"";h.localName=m,w!==!1&&(i==null&&(i={},$t(r,r={})),r[w]=i[w]=c,h.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(w,c))}for(var d=e.length;d--;){h=e[d];var l=h.prefix;l&&(l==="xml"&&(h.uri="http://www.w3.org/XML/1998/namespace"),l!=="xmlns"&&(h.uri=r[l||""]))}var p=n.indexOf(":");p>0?(l=e.prefix=n.slice(0,p),m=e.localName=n.slice(p+1)):(l=null,m=e.localName=n);var E=e.uri=r[l||""];if(t.startElement(E,m,n,e),e.closed){if(t.endElement(E,m,n),i)for(l in i)t.endPrefixMapping(l)}else return e.currentNSMap=r,e.localNSMap=i,!0}function vn(e,t,r,n,i){if(/^(?:script|textarea)$/i.test(r)){var h=e.indexOf("</"+r+">",t),o=e.substring(t+1,h);if(/[&<]/.test(o))return/^script$/i.test(r)?(i.characters(o,0,o.length),h):(o=o.replace(/&#?\w+;/g,n),i.characters(o,0,o.length),h)}return t+1}function Nn(e,t,r,n){var i=n[r];return i==null&&(i=e.lastIndexOf("</"+r+">"),i<t&&(i=e.lastIndexOf("</"+r)),n[r]=i),i<t}function $t(e,t){for(var r in e)t[r]=e[r]}function En(e,t,r,n){var i=e.charAt(t+2);switch(i){case"-":if(e.charAt(t+3)==="-"){var h=e.indexOf("-->",t+4);return h>t?(r.comment(e,t+4,h-t-4),h+3):(n.error("Unclosed comment"),-1)}else return-1;default:if(e.substr(t+3,6)=="CDATA["){var h=e.indexOf("]]>",t+9);return r.startCDATA(),r.characters(e,t+9,h-t-9),r.endCDATA(),h+3}var o=Tn(e,t),c=o.length;if(c>1&&/!doctype/i.test(o[0][0])){var l=o[1][0],m=!1,w=!1;c>3&&(/^public$/i.test(o[2][0])?(m=o[3][0],w=c>4&&o[4][0]):/^system$/i.test(o[2][0])&&(w=o[3][0]));var d=o[c-1];return r.startDTD(l,m,w),r.endDTD(),d.index+d[0].length}}return-1}function bn(e,t,r){var n=e.indexOf("?>",t);if(n){var i=e.substring(t,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){var h=i[0].length;return r.processingInstruction(i[1],i[2]),n+2}else return-1}return-1}function Wt(){this.attributeNames={}}Wt.prototype={setTagName:function(e){if(!Ut.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,r){if(!Ut.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}};function Tn(e,t){var r,n=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=t,i.exec(e);r=i.exec(e);)if(n.push(r),r[1])return n}ht.XMLReader=Bt;ht.ParseError=ue});var Dt=A(Oe=>{function Ee(e,t){for(var r in e)t[r]=e[r]}function U(e,t){var r=e.prototype;if(!(r instanceof t)){let i=function(){};var n=i;i.prototype=t.prototype,i=new i,Ee(r,i),e.prototype=r=i}r.constructor!=e&&(typeof e!="function"&&console.error("unknow Class:"+e),r.constructor=e)}var On="http://www.w3.org/1999/xhtml",k={},W=k.ELEMENT_NODE=1,le=k.ATTRIBUTE_NODE=2,Xe=k.TEXT_NODE=3,Qt=k.CDATA_SECTION_NODE=4,Jt=k.ENTITY_REFERENCE_NODE=5,In=k.ENTITY_NODE=6,er=k.PROCESSING_INSTRUCTION_NODE=7,tr=k.COMMENT_NODE=8,rr=k.DOCUMENT_NODE=9,ir=k.DOCUMENT_TYPE_NODE=10,Y=k.DOCUMENT_FRAGMENT_NODE=11,Cn=k.NOTATION_NODE=12,q={},_={},ls=q.INDEX_SIZE_ERR=(_[1]="Index size error",1),cs=q.DOMSTRING_SIZE_ERR=(_[2]="DOMString size error",2),Mn=q.HIERARCHY_REQUEST_ERR=(_[3]="Hierarchy request error",3),fs=q.WRONG_DOCUMENT_ERR=(_[4]="Wrong document",4),ds=q.INVALID_CHARACTER_ERR=(_[5]="Invalid character",5),ps=q.NO_DATA_ALLOWED_ERR=(_[6]="No data allowed",6),ms=q.NO_MODIFICATION_ALLOWED_ERR=(_[7]="No modification allowed",7),Ln=q.NOT_FOUND_ERR=(_[8]="Not found",8),gs=q.NOT_SUPPORTED_ERR=(_[9]="Not supported",9),Ht=q.INUSE_ATTRIBUTE_ERR=(_[10]="Attribute in use",10),ys=q.INVALID_STATE_ERR=(_[11]="Invalid state",11),ws=q.SYNTAX_ERR=(_[12]="Syntax error",12),Ds=q.INVALID_MODIFICATION_ERR=(_[13]="Invalid modification",13),vs=q.NAMESPACE_ERR=(_[14]="Invalid namespace",14),Ns=q.INVALID_ACCESS_ERR=(_[15]="Invalid access",15);function te(e,t){if(t instanceof Error)var r=t;else r=this,Error.call(this,_[e]),this.message=_[e],Error.captureStackTrace&&Error.captureStackTrace(this,te);return r.code=e,t&&(this.message=this.message+": "+t),r}te.prototype=Error.prototype;Ee(q,te);function Z(){}Z.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var r=[],n=0;n<this.length;n++)he(this[n],r,e,t);return r.join("")}};function ce(e,t){this._node=e,this._refresh=t,ct(this)}function ct(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var r=e._refresh(e._node);pr(e,"length",r.length),Ee(r,e),e._inc=t}}ce.prototype.item=function(e){return ct(this),this[e]};U(ce,Z);function qe(){}function nr(e,t){for(var r=e.length;r--;)if(e[r]===t)return r}function Yt(e,t,r,n){if(n?t[nr(t,n)]=r:t[t.length++]=r,e){r.ownerElement=e;var i=e.ownerDocument;i&&(n&&ar(i,e,n),An(i,e,r))}}function Kt(e,t,r){var n=nr(t,r);if(n>=0){for(var i=t.length-1;n<i;)t[n]=t[++n];if(t.length=i,e){var h=e.ownerDocument;h&&(ar(h,e,r),r.ownerElement=null)}}else throw te(Ln,new Error(e.tagName+"@"+r))}qe.prototype={length:0,item:Z.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var r=this[t];if(r.nodeName==e)return r}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new te(Ht);var r=this.getNamedItem(e.nodeName);return Yt(this._ownerElement,this,e,r),r},setNamedItemNS:function(e){var t=e.ownerElement,r;if(t&&t!=this._ownerElement)throw new te(Ht);return r=this.getNamedItemNS(e.namespaceURI,e.localName),Yt(this._ownerElement,this,e,r),r},removeNamedItem:function(e){var t=this.getNamedItem(e);return Kt(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var r=this.getNamedItemNS(e,t);return Kt(this._ownerElement,this,r),r},getNamedItemNS:function(e,t){for(var r=this.length;r--;){var n=this[r];if(n.localName==t&&n.namespaceURI==e)return n}return null}};function sr(e){if(this._features={},e)for(var t in e)this._features=e[t]}sr.prototype={hasFeature:function(e,t){var r=this._features[e.toLowerCase()];return!!(r&&(!t||t in r))},createDocument:function(e,t,r){var n=new be;if(n.implementation=this,n.childNodes=new Z,n.doctype=r,r&&n.appendChild(r),t){var i=n.createElementNS(e,t);n.appendChild(i)}return n},createDocumentType:function(e,t,r){var n=new gt;return n.name=e,n.nodeName=e,n.publicId=t,n.systemId=r,n}};function j(){}j.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return ur(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return or(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(e){return lt(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==Xe&&e.nodeType==Xe?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var r=t._nsMap;if(r){for(var n in r)if(r[n]==e)return n}t=t.nodeType==le?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var r=t._nsMap;if(r&&e in r)return r[e];t=t.nodeType==le?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){var t=this.lookupPrefix(e);return t==null}};function Gt(e){return e=="<"&&"&lt;"||e==">"&&"&gt;"||e=="&"&&"&amp;"||e=='"'&&"&quot;"||"&#"+e.charCodeAt()+";"}Ee(k,j);Ee(k,j.prototype);function Ne(e,t){if(t(e))return!0;if(e=e.firstChild)do if(Ne(e,t))return!0;while(e=e.nextSibling)}function be(){}function An(e,t,r){e&&e._inc++;var n=r.namespaceURI;n=="http://www.w3.org/2000/xmlns/"&&(t._nsMap[r.prefix?r.localName:""]=r.value)}function ar(e,t,r,n){e&&e._inc++;var i=r.namespaceURI;i=="http://www.w3.org/2000/xmlns/"&&delete t._nsMap[r.prefix?r.localName:""]}function ft(e,t,r){if(e&&e._inc){e._inc++;var n=t.childNodes;if(r)n[n.length++]=r;else{for(var i=t.firstChild,h=0;i;)n[h++]=i,i=i.nextSibling;n.length=h}}}function or(e,t){var r=t.previousSibling,n=t.nextSibling;return r?r.nextSibling=n:e.firstChild=n,n?n.previousSibling=r:e.lastChild=r,ft(e.ownerDocument,e),t}function ur(e,t,r){var n=t.parentNode;if(n&&n.removeChild(t),t.nodeType===Y){var i=t.firstChild;if(i==null)return t;var h=t.lastChild}else i=h=t;var o=r?r.previousSibling:e.lastChild;i.previousSibling=o,h.nextSibling=r,o?o.nextSibling=i:e.firstChild=i,r==null?e.lastChild=h:r.previousSibling=h;do i.parentNode=e;while(i!==h&&(i=i.nextSibling));return ft(e.ownerDocument||e,e),t.nodeType==Y&&(t.firstChild=t.lastChild=null),t}function Sn(e,t){var r=t.parentNode;if(r){var n=e.lastChild;r.removeChild(t);var n=e.lastChild}var n=e.lastChild;return t.parentNode=e,t.previousSibling=n,t.nextSibling=null,n?n.nextSibling=t:e.firstChild=t,e.lastChild=t,ft(e.ownerDocument,e,t),t}be.prototype={nodeName:"#document",nodeType:rr,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==Y){for(var r=e.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,t),r=n}return e}return this.documentElement==null&&e.nodeType==W&&(this.documentElement=e),ur(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),or(this,e)},importNode:function(e,t){return dr(this,e,t)},getElementById:function(e){var t=null;return Ne(this.documentElement,function(r){if(r.nodeType==W&&r.getAttribute("id")==e)return t=r,!0}),t},getElementsByClassName:function(e){var t=new RegExp("(^|\\s)"+e+"(\\s|$)");return new ce(this,function(r){var n=[];return Ne(r.documentElement,function(i){i!==r&&i.nodeType==W&&t.test(i.getAttribute("class"))&&n.push(i)}),n})},createElement:function(e){var t=new fe;t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new Z;var r=t.attributes=new qe;return r._ownerElement=t,t},createDocumentFragment:function(){var e=new Ue;return e.ownerDocument=this,e.childNodes=new Z,e},createTextNode:function(e){var t=new dt;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new pt;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new mt;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var r=new wt;return r.ownerDocument=this,r.tagName=r.target=e,r.nodeValue=r.data=t,r},createAttribute:function(e){var t=new je;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new yt;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var r=new fe,n=t.split(":"),i=r.attributes=new qe;return r.childNodes=new Z,r.ownerDocument=this,r.nodeName=t,r.tagName=t,r.namespaceURI=e,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=t,i._ownerElement=r,r},createAttributeNS:function(e,t){var r=new je,n=t.split(":");return r.ownerDocument=this,r.nodeName=t,r.name=t,r.namespaceURI=e,r.specified=!0,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=t,r}};U(be,j);function fe(){this._nsMap={}}fe.prototype={nodeType:W,hasAttribute:function(e){return this.getAttributeNode(e)!=null},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var r=this.ownerDocument.createAttribute(e);r.value=r.nodeValue=""+t,this.setAttributeNode(r)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===Y?this.insertBefore(e,null):Sn(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);r&&this.removeAttributeNode(r)},hasAttributeNS:function(e,t){return this.getAttributeNodeNS(e,t)!=null},getAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);return r&&r.value||""},setAttributeNS:function(e,t,r){var n=this.ownerDocument.createAttributeNS(e,t);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new ce(this,function(t){var r=[];return Ne(t,function(n){n!==t&&n.nodeType==W&&(e==="*"||n.tagName==e)&&r.push(n)}),r})},getElementsByTagNameNS:function(e,t){return new ce(this,function(r){var n=[];return Ne(r,function(i){i!==r&&i.nodeType===W&&(e==="*"||i.namespaceURI===e)&&(t==="*"||i.localName==t)&&n.push(i)}),n})}};be.prototype.getElementsByTagName=fe.prototype.getElementsByTagName;be.prototype.getElementsByTagNameNS=fe.prototype.getElementsByTagNameNS;U(fe,j);function je(){}je.prototype.nodeType=le;U(je,j);function Te(){}Te.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(_[Mn])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,r){var n=this.data.substring(0,e),i=this.data.substring(e+t);r=n+r+i,this.nodeValue=this.data=r,this.length=r.length}};U(Te,j);function dt(){}dt.prototype={nodeName:"#text",nodeType:Xe,splitText:function(e){var t=this.data,r=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}};U(dt,Te);function pt(){}pt.prototype={nodeName:"#comment",nodeType:tr};U(pt,Te);function mt(){}mt.prototype={nodeName:"#cdata-section",nodeType:Qt};U(mt,Te);function gt(){}gt.prototype.nodeType=ir;U(gt,j);function hr(){}hr.prototype.nodeType=Cn;U(hr,j);function lr(){}lr.prototype.nodeType=In;U(lr,j);function yt(){}yt.prototype.nodeType=Jt;U(yt,j);function Ue(){}Ue.prototype.nodeName="#document-fragment";Ue.prototype.nodeType=Y;U(Ue,j);function wt(){}wt.prototype.nodeType=er;U(wt,j);function cr(){}cr.prototype.serializeToString=function(e,t,r){return fr.call(e,t,r)};j.prototype.toString=fr;function fr(e,t){var r=[],n=this.nodeType==9&&this.documentElement||this,i=n.prefix,h=n.namespaceURI;if(h&&i==null){var i=n.lookupPrefix(h);if(i==null)var o=[{namespace:h,prefix:null}]}return he(this,r,e,t,o),r.join("")}function Zt(e,t,r){var n=e.prefix||"",i=e.namespaceURI;if(!n&&!i||n==="xml"&&i==="http://www.w3.org/XML/1998/namespace"||i=="http://www.w3.org/2000/xmlns/")return!1;for(var h=r.length;h--;){var o=r[h];if(o.prefix==n)return o.namespace!=i}return!0}function he(e,t,r,n,i){if(n)if(e=n(e),e){if(typeof e=="string"){t.push(e);return}}else return;switch(e.nodeType){case W:i||(i=[]);var h=i.length,o=e.attributes,c=o.length,b=e.firstChild,l=e.tagName;r=On===e.namespaceURI||r,t.push("<",l);for(var m=0;m<c;m++){var w=o.item(m);w.prefix=="xmlns"?i.push({prefix:w.localName,namespace:w.value}):w.nodeName=="xmlns"&&i.push({prefix:"",namespace:w.value})}for(var m=0;m<c;m++){var w=o.item(m);if(Zt(w,r,i)){var d=w.prefix||"",p=w.namespaceURI,E=d?" xmlns:"+d:" xmlns";t.push(E,'="',p,'"'),i.push({prefix:d,namespace:p})}he(w,t,r,n,i)}if(Zt(e,r,i)){var d=e.prefix||"",p=e.namespaceURI;if(p){var E=d?" xmlns:"+d:" xmlns";t.push(E,'="',p,'"'),i.push({prefix:d,namespace:p})}}if(b||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(t.push(">"),r&&/^script$/i.test(l))for(;b;)b.data?t.push(b.data):he(b,t,r,n,i),b=b.nextSibling;else for(;b;)he(b,t,r,n,i),b=b.nextSibling;t.push("</",l,">")}else t.push("/>");return;case rr:case Y:for(var b=e.firstChild;b;)he(b,t,r,n,i),b=b.nextSibling;return;case le:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,Gt),'"');case Xe:return t.push(e.data.replace(/[<&]/g,Gt).replace(/]]>/g,"]]&gt;"));case Qt:return t.push("<![CDATA[",e.data,"]]>");case tr:return t.push("<!--",e.data,"-->");case ir:var I=e.publicId,O=e.systemId;if(t.push("<!DOCTYPE ",e.name),I)t.push(" PUBLIC ",I),O&&O!="."&&t.push(" ",O),t.push(">");else if(O&&O!=".")t.push(" SYSTEM ",O,">");else{var x=e.internalSubset;x&&t.push(" [",x,"]"),t.push(">")}return;case er:return t.push("<?",e.target," ",e.data,"?>");case Jt:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function dr(e,t,r){var n;switch(t.nodeType){case W:n=t.cloneNode(!1),n.ownerDocument=e;case Y:break;case le:r=!0;break}if(n||(n=t.cloneNode(!1)),n.ownerDocument=e,n.parentNode=null,r)for(var i=t.firstChild;i;)n.appendChild(dr(e,i,r)),i=i.nextSibling;return n}function lt(e,t,r){var n=new t.constructor;for(var i in t){var h=t[i];typeof h!="object"&&h!=n[i]&&(n[i]=h)}switch(t.childNodes&&(n.childNodes=new Z),n.ownerDocument=e,n.nodeType){case W:var o=t.attributes,c=n.attributes=new qe,l=o.length;c._ownerElement=n;for(var m=0;m<l;m++)n.setAttributeNode(lt(e,o.item(m),!0));break;case le:r=!0}if(r)for(var w=t.firstChild;w;)n.appendChild(lt(e,w,r)),w=w.nextSibling;return n}function pr(e,t,r){e[t]=r}try{if(Object.defineProperty){let e=function(t){switch(t.nodeType){case W:case Y:var r=[];for(t=t.firstChild;t;)t.nodeType!==7&&t.nodeType!==8&&r.push(e(t)),t=t.nextSibling;return r.join("");default:return t.nodeValue}};Es=e,Object.defineProperty(ce.prototype,"length",{get:function(){return ct(this),this.$$length}}),Object.defineProperty(j.prototype,"textContent",{get:function(){return e(this)},set:function(t){switch(this.nodeType){case W:case Y:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),pr=function(t,r,n){t["$$"+r]=n}}}catch{}var Es;Oe.Node=j;Oe.DOMException=te;Oe.DOMImplementation=sr;Oe.XMLSerializer=cr});var wr=A(Ce=>{function gr(e){this.options=e||{locator:{}}}gr.prototype.parseFromString=function(e,t){var r=this.options,n=new Rn,i=r.domBuilder||new Ie,h=r.errorHandler,o=r.locator,c=r.xmlns||{},l=/\/x?html?$/.test(t),m=l?Pn.entityMap:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return o&&i.setDocumentLocator(o),n.errorHandler=xn(h,i,o),n.domBuilder=r.domBuilder||i,l&&(c[""]="http://www.w3.org/1999/xhtml"),c.xml=c.xml||"http://www.w3.org/XML/1998/namespace",e&&typeof e=="string"?n.parse(e,c,m):n.errorHandler.error("invalid doc source"),i.doc};function xn(e,t,r){if(!e){if(t instanceof Ie)return t;e=t}var n={},i=e instanceof Function;r=r||{};function h(o){var c=e[o];!c&&i&&(c=e.length==2?function(l){e(o,l)}:e),n[o]=c&&function(l){c("[xmldom "+o+"]	"+l+vt(r))}||function(){}}return h("warning"),h("error"),h("fatalError"),n}function Ie(){this.cdata=!1}function de(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}Ie.prototype={startDocument:function(){this.doc=new _n().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,r,n){var i=this.doc,h=i.createElementNS(e,r||t),o=n.length;ke(this,h),this.currentElement=h,this.locator&&de(this.locator,h);for(var c=0;c<o;c++){var e=n.getURI(c),l=n.getValue(c),r=n.getQName(c),m=i.createAttributeNS(e,r);this.locator&&de(n.getLocator(c),m),m.value=m.nodeValue=l,h.setAttributeNode(m)}},endElement:function(e,t,r){var n=this.currentElement,i=n.tagName;this.currentElement=n.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var r=this.doc.createProcessingInstruction(e,t);this.locator&&de(this.locator,r),ke(this,r)},ignorableWhitespace:function(e,t,r){},characters:function(e,t,r){if(e=mr.apply(this,arguments),e){if(this.cdata)var n=this.doc.createCDATASection(e);else var n=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(e)&&this.doc.appendChild(n),this.locator&&de(this.locator,n)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,r){e=mr.apply(this,arguments);var n=this.doc.createComment(e);this.locator&&de(this.locator,n),ke(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(e,t,r);this.locator&&de(this.locator,i),ke(this,i)}},warning:function(e){console.warn("[xmldom warning]	"+e,vt(this.locator))},error:function(e){console.error("[xmldom error]	"+e,vt(this.locator))},fatalError:function(e){throw new Fn(e,this.locator)}};function vt(e){if(e)return`
@`+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function mr(e,t,r){return typeof e=="string"?e.substr(t,r):e.length>=t+r||t?new java.lang.String(e,t,r)+"":e}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){Ie.prototype[e]=function(){return null}});function ke(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}var Pn=qt(),yr=zt(),Rn=yr.XMLReader,Fn=yr.ParseError,_n=Ce.DOMImplementation=Dt().DOMImplementation;Ce.XMLSerializer=Dt().XMLSerializer;Ce.DOMParser=gr;Ce.__DOMHandler=Ie});var Nr=A(vr=>{var Xn=wr().DOMParser;vr.parse=jn;var Ve=3,Dr=4,qn=8;function Nt(e){return e.nodeType===Ve||e.nodeType===qn||e.nodeType===Dr}function K(e){return!e.childNodes||e.childNodes.length===0}function re(e,t){if(!e)throw new Error(t)}function jn(e){var t=new Xn().parseFromString(e);re(t.documentElement.nodeName==="plist","malformed document. First element should be <plist>");var r=pe(t.documentElement);return r.length==1&&(r=r[0]),r}function pe(e){var t,r,n,i,h,o,c,l;if(!e)return null;if(e.nodeName==="plist"){if(h=[],K(e))return h;for(t=0;t<e.childNodes.length;t++)Nt(e.childNodes[t])||h.push(pe(e.childNodes[t]));return h}else if(e.nodeName==="dict"){if(r={},n=null,c=0,K(e))return r;for(t=0;t<e.childNodes.length;t++)Nt(e.childNodes[t])||(c%2===0?(re(e.childNodes[t].nodeName==="key","Missing key while parsing <dict/>."),n=pe(e.childNodes[t])):(re(e.childNodes[t].nodeName!=="key",'Unexpected key "'+pe(e.childNodes[t])+'" while parsing <dict/>.'),r[n]=pe(e.childNodes[t])),c+=1);return c%2===1&&(r[n]=""),r}else if(e.nodeName==="array"){if(h=[],K(e))return h;for(t=0;t<e.childNodes.length;t++)Nt(e.childNodes[t])||(o=pe(e.childNodes[t]),o!=null&&h.push(o));return h}else if(e.nodeName!=="#text"){if(e.nodeName==="key")return K(e)?"":(re(e.childNodes[0].nodeValue!=="__proto__","__proto__ keys can lead to prototype pollution. More details on CVE-2022-22912"),e.childNodes[0].nodeValue);if(e.nodeName==="string"){if(o="",K(e))return o;for(t=0;t<e.childNodes.length;t++){var l=e.childNodes[t].nodeType;(l===Ve||l===Dr)&&(o+=e.childNodes[t].nodeValue)}return o}else{if(e.nodeName==="integer")return re(!K(e),'Cannot parse "" as integer.'),parseInt(e.childNodes[0].nodeValue,10);if(e.nodeName==="real"){for(re(!K(e),'Cannot parse "" as real.'),o="",t=0;t<e.childNodes.length;t++)e.childNodes[t].nodeType===Ve&&(o+=e.childNodes[t].nodeValue);return parseFloat(o)}else if(e.nodeName==="data"){if(o="",K(e))return Buffer.from(o,"base64");for(t=0;t<e.childNodes.length;t++)e.childNodes[t].nodeType===Ve&&(o+=e.childNodes[t].nodeValue.replace(/\s+/g,""));return Buffer.from(o,"base64")}else{if(e.nodeName==="date")return re(!K(e),'Cannot parse "" as Date.'),new Date(e.childNodes[0].nodeValue);if(e.nodeName==="null")return null;if(e.nodeName==="true")return!0;if(e.nodeName==="false")return!1;throw new Error("Invalid PLIST tag "+e.nodeName)}}}}});var Tr=A(Be=>{"use strict";Be.byteLength=kn;Be.toByteArray=Bn;Be.fromByteArray=zn;var z=[],$=[],Un=typeof Uint8Array<"u"?Uint8Array:Array,Et="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(ie=0,Er=Et.length;ie<Er;++ie)z[ie]=Et[ie],$[Et.charCodeAt(ie)]=ie;var ie,Er;$["-".charCodeAt(0)]=62;$["_".charCodeAt(0)]=63;function br(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function kn(e){var t=br(e),r=t[0],n=t[1];return(r+n)*3/4-n}function Vn(e,t,r){return(t+r)*3/4-r}function Bn(e){var t,r=br(e),n=r[0],i=r[1],h=new Un(Vn(e,n,i)),o=0,c=i>0?n-4:n,l;for(l=0;l<c;l+=4)t=$[e.charCodeAt(l)]<<18|$[e.charCodeAt(l+1)]<<12|$[e.charCodeAt(l+2)]<<6|$[e.charCodeAt(l+3)],h[o++]=t>>16&255,h[o++]=t>>8&255,h[o++]=t&255;return i===2&&(t=$[e.charCodeAt(l)]<<2|$[e.charCodeAt(l+1)]>>4,h[o++]=t&255),i===1&&(t=$[e.charCodeAt(l)]<<10|$[e.charCodeAt(l+1)]<<4|$[e.charCodeAt(l+2)]>>2,h[o++]=t>>8&255,h[o++]=t&255),h}function $n(e){return z[e>>18&63]+z[e>>12&63]+z[e>>6&63]+z[e&63]}function Wn(e,t,r){for(var n,i=[],h=t;h<r;h+=3)n=(e[h]<<16&16711680)+(e[h+1]<<8&65280)+(e[h+2]&255),i.push($n(n));return i.join("")}function zn(e){for(var t,r=e.length,n=r%3,i=[],h=16383,o=0,c=r-n;o<c;o+=h)i.push(Wn(e,o,o+h>c?c:o+h));return n===1?(t=e[r-1],i.push(z[t>>2]+z[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(z[t>>10]+z[t>>4&63]+z[t<<2&63]+"=")),i.join("")}});var H=A((Or,Q)=>{(function(){var e,t,r,n,i,h,o,c={}.hasOwnProperty;e=function(l,...m){var w,d,p,E;if(i(Object.assign))Object.assign.apply(null,arguments);else for(w=0,p=m.length;w<p;w++)if(E=m[w],E!=null)for(d in E)!c.call(E,d)||(l[d]=E[d]);return l},i=function(l){return!!l&&Object.prototype.toString.call(l)==="[object Function]"},h=function(l){var m;return!!l&&((m=typeof l)=="function"||m==="object")},r=function(l){return i(Array.isArray)?Array.isArray(l):Object.prototype.toString.call(l)==="[object Array]"},n=function(l){var m;if(r(l))return!l.length;for(m in l)if(!!c.call(l,m))return!1;return!0},o=function(l){var m,w;return h(l)&&(w=Object.getPrototypeOf(l))&&(m=w.constructor)&&typeof m=="function"&&m instanceof m&&Function.prototype.toString.call(m)===Function.prototype.toString.call(Object)},t=function(l){return i(l.valueOf)?l.valueOf():l},Q.exports.assign=e,Q.exports.isFunction=i,Q.exports.isObject=h,Q.exports.isArray=r,Q.exports.isEmpty=n,Q.exports.isPlainObject=o,Q.exports.getValue=t}).call(Or)});var bt=A((Ir,Cr)=>{(function(){var e;Cr.exports=e=class{hasFeature(r,n){return!0}createDocumentType(r,n,i){throw new Error("This DOM method is not implemented.")}createDocument(r,n,i){throw new Error("This DOM method is not implemented.")}createHTMLDocument(r){throw new Error("This DOM method is not implemented.")}getFeature(r,n){throw new Error("This DOM method is not implemented.")}}}).call(Ir)});var Ar=A((Mr,Lr)=>{(function(){var e;Lr.exports=e=class{constructor(){}handleError(r){throw new Error(r)}}}).call(Mr)});var Pr=A((Sr,xr)=>{(function(){var e;xr.exports=e=function(){class t{constructor(n){this.arr=n||[]}item(n){return this.arr[n]||null}contains(n){return this.arr.indexOf(n)!==-1}}return Object.defineProperty(t.prototype,"length",{get:function(){return this.arr.length}}),t}.call(this)}).call(Sr)});var _r=A((Rr,Fr)=>{(function(){var e,t,r;t=Ar(),r=Pr(),Fr.exports=e=function(){class n{constructor(){var h;this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new t,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=h=Object.create(this.defaultParams)}getParameter(h){return this.params.hasOwnProperty(h)?this.params[h]:null}canSetParameter(h,o){return!0}setParameter(h,o){return o!=null?this.params[h]=o:delete this.params[h]}}return Object.defineProperty(n.prototype,"parameterNames",{get:function(){return new r(Object.keys(this.defaultParams))}}),n}.call(this)}).call(Rr)});var P=A((Xr,qr)=>{(function(){qr.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(Xr)});var Tt=A((jr,Ur)=>{(function(){var e,t,r;e=P(),r=V(),Ur.exports=t=function(){class n{constructor(h,o,c){if(this.parent=h,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),o==null)throw new Error("Missing attribute name. "+this.debugInfo(o));this.name=this.stringify.name(o),this.value=this.stringify.attValue(c),this.type=e.Attribute,this.isId=!1,this.schemaTypeInfo=null}clone(){return Object.create(this)}toString(h){return this.options.writer.attribute(this,this.options.writer.filterOptions(h))}debugInfo(h){return h=h||this.name,h==null?"parent: <"+this.parent.name+">":"attribute: {"+h+"}, parent: <"+this.parent.name+">"}isEqualNode(h){return!(h.namespaceURI!==this.namespaceURI||h.prefix!==this.prefix||h.localName!==this.localName||h.value!==this.value)}}return Object.defineProperty(n.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(n.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(n.prototype,"textContent",{get:function(){return this.value},set:function(i){return this.value=i||""}}),Object.defineProperty(n.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(n.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(n.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(n.prototype,"specified",{get:function(){return!0}}),n}.call(this)}).call(jr)});var $e=A((kr,Vr)=>{(function(){var e;Vr.exports=e=function(){class t{constructor(n){this.nodes=n}clone(){return this.nodes=null}getNamedItem(n){return this.nodes[n]}setNamedItem(n){var i;return i=this.nodes[n.nodeName],this.nodes[n.nodeName]=n,i||null}removeNamedItem(n){var i;return i=this.nodes[n],delete this.nodes[n],i||null}item(n){return this.nodes[Object.keys(this.nodes)[n]]||null}getNamedItemNS(n,i){throw new Error("This DOM method is not implemented.")}setNamedItemNS(n){throw new Error("This DOM method is not implemented.")}removeNamedItemNS(n,i){throw new Error("This DOM method is not implemented.")}}return Object.defineProperty(t.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),t}.call(this)}).call(kr)});var We=A((Br,$r)=>{(function(){var e,t,r,n,i,h,o,c,l={}.hasOwnProperty;({isObject:c,isFunction:o,getValue:h}=H()),i=V(),e=P(),t=Tt(),n=$e(),$r.exports=r=function(){class m extends i{constructor(d,p,E){var b,I,O,x;if(super(d),p==null)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(p),this.type=e.Element,this.attribs={},this.schemaTypeInfo=null,E!=null&&this.attribute(E),d.type===e.Document&&(this.isRoot=!0,this.documentObject=d,d.rootObject=this,d.children)){for(x=d.children,I=0,O=x.length;I<O;I++)if(b=x[I],b.type===e.DocType){b.name=this.name;break}}}clone(){var d,p,E,b;E=Object.create(this),E.isRoot&&(E.documentObject=null),E.attribs={},b=this.attribs;for(p in b)!l.call(b,p)||(d=b[p],E.attribs[p]=d.clone());return E.children=[],this.children.forEach(function(I){var O;return O=I.clone(),O.parent=E,E.children.push(O)}),E}attribute(d,p){var E,b;if(d!=null&&(d=h(d)),c(d))for(E in d)!l.call(d,E)||(b=d[E],this.attribute(E,b));else o(p)&&(p=p.apply()),this.options.keepNullAttributes&&p==null?this.attribs[d]=new t(this,d,""):p!=null&&(this.attribs[d]=new t(this,d,p));return this}removeAttribute(d){var p,E,b;if(d==null)throw new Error("Missing attribute name. "+this.debugInfo());if(d=h(d),Array.isArray(d))for(E=0,b=d.length;E<b;E++)p=d[E],delete this.attribs[p];else delete this.attribs[d];return this}toString(d){return this.options.writer.element(this,this.options.writer.filterOptions(d))}att(d,p){return this.attribute(d,p)}a(d,p){return this.attribute(d,p)}getAttribute(d){return this.attribs.hasOwnProperty(d)?this.attribs[d].value:null}setAttribute(d,p){throw new Error("This DOM method is not implemented."+this.debugInfo())}getAttributeNode(d){return this.attribs.hasOwnProperty(d)?this.attribs[d]:null}setAttributeNode(d){throw new Error("This DOM method is not implemented."+this.debugInfo())}removeAttributeNode(d){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByTagName(d){throw new Error("This DOM method is not implemented."+this.debugInfo())}getAttributeNS(d,p){throw new Error("This DOM method is not implemented."+this.debugInfo())}setAttributeNS(d,p,E){throw new Error("This DOM method is not implemented."+this.debugInfo())}removeAttributeNS(d,p){throw new Error("This DOM method is not implemented."+this.debugInfo())}getAttributeNodeNS(d,p){throw new Error("This DOM method is not implemented."+this.debugInfo())}setAttributeNodeNS(d){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByTagNameNS(d,p){throw new Error("This DOM method is not implemented."+this.debugInfo())}hasAttribute(d){return this.attribs.hasOwnProperty(d)}hasAttributeNS(d,p){throw new Error("This DOM method is not implemented."+this.debugInfo())}setIdAttribute(d,p){return this.attribs.hasOwnProperty(d)?this.attribs[d].isId:p}setIdAttributeNS(d,p,E){throw new Error("This DOM method is not implemented."+this.debugInfo())}setIdAttributeNode(d,p){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByTagName(d){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByTagNameNS(d,p){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByClassName(d){throw new Error("This DOM method is not implemented."+this.debugInfo())}isEqualNode(d){var p,E,b;if(!super.isEqualNode(d)||d.namespaceURI!==this.namespaceURI||d.prefix!==this.prefix||d.localName!==this.localName||d.attribs.length!==this.attribs.length)return!1;for(p=E=0,b=this.attribs.length-1;0<=b?E<=b:E>=b;p=0<=b?++E:--E)if(!this.attribs[p].isEqualNode(d.attribs[p]))return!1;return!0}}return Object.defineProperty(m.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(m.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(m.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(m.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(m.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(m.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(m.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(m.prototype,"attributes",{get:function(){return(!this.attributeMap||!this.attributeMap.nodes)&&(this.attributeMap=new n(this.attribs)),this.attributeMap}}),m}.call(this)}).call(Br)});var Me=A((Wr,zr)=>{(function(){var e,t;t=V(),zr.exports=e=function(){class r extends t{constructor(i){super(i),this.value=""}clone(){return Object.create(this)}substringData(i,h){throw new Error("This DOM method is not implemented."+this.debugInfo())}appendData(i){throw new Error("This DOM method is not implemented."+this.debugInfo())}insertData(i,h){throw new Error("This DOM method is not implemented."+this.debugInfo())}deleteData(i,h){throw new Error("This DOM method is not implemented."+this.debugInfo())}replaceData(i,h,o){throw new Error("This DOM method is not implemented."+this.debugInfo())}isEqualNode(i){return!(!super.isEqualNode(i)||i.data!==this.data)}}return Object.defineProperty(r.prototype,"data",{get:function(){return this.value},set:function(n){return this.value=n||""}}),Object.defineProperty(r.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(r.prototype,"textContent",{get:function(){return this.value},set:function(n){return this.value=n||""}}),r}.call(this)}).call(Wr)});var ze=A((Hr,Yr)=>{(function(){var e,t,r;e=P(),r=Me(),Yr.exports=t=class extends r{constructor(i,h){if(super(i),h==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=e.CData,this.value=this.stringify.cdata(h)}clone(){return Object.create(this)}toString(i){return this.options.writer.cdata(this,this.options.writer.filterOptions(i))}}}).call(Hr)});var He=A((Kr,Gr)=>{(function(){var e,t,r;e=P(),t=Me(),Gr.exports=r=class extends t{constructor(i,h){if(super(i),h==null)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=e.Comment,this.value=this.stringify.comment(h)}clone(){return Object.create(this)}toString(i){return this.options.writer.comment(this,this.options.writer.filterOptions(i))}}}).call(Kr)});var Ye=A((Zr,Qr)=>{(function(){var e,t,r,n;({isObject:n}=H()),r=V(),e=P(),Qr.exports=t=class extends r{constructor(h,o,c,l){super(h),n(o)&&({version:o,encoding:c,standalone:l}=o),o||(o="1.0"),this.type=e.Declaration,this.version=this.stringify.xmlVersion(o),c!=null&&(this.encoding=this.stringify.xmlEncoding(c)),l!=null&&(this.standalone=this.stringify.xmlStandalone(l))}toString(h){return this.options.writer.declaration(this,this.options.writer.filterOptions(h))}}}).call(Zr)});var Ke=A((Jr,ei)=>{(function(){var e,t,r;r=V(),e=P(),ei.exports=t=class extends r{constructor(i,h,o,c,l,m){if(super(i),h==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(o==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(h));if(!c)throw new Error("Missing DTD attribute type. "+this.debugInfo(h));if(!l)throw new Error("Missing DTD attribute default. "+this.debugInfo(h));if(l.indexOf("#")!==0&&(l="#"+l),!l.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(h));if(m&&!l.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(h));this.elementName=this.stringify.name(h),this.type=e.AttributeDeclaration,this.attributeName=this.stringify.name(o),this.attributeType=this.stringify.dtdAttType(c),m&&(this.defaultValue=this.stringify.dtdAttDefault(m)),this.defaultValueType=l}toString(i){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(i))}}}).call(Jr)});var Ge=A((ti,ri)=>{(function(){var e,t,r,n;({isObject:n}=H()),r=V(),e=P(),ri.exports=t=function(){class i extends r{constructor(o,c,l,m){if(super(o),l==null)throw new Error("Missing DTD entity name. "+this.debugInfo(l));if(m==null)throw new Error("Missing DTD entity value. "+this.debugInfo(l));if(this.pe=!!c,this.name=this.stringify.name(l),this.type=e.EntityDeclaration,!n(m))this.value=this.stringify.dtdEntityValue(m),this.internal=!0;else{if(!m.pubID&&!m.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(l));if(m.pubID&&!m.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(l));if(this.internal=!1,m.pubID!=null&&(this.pubID=this.stringify.dtdPubID(m.pubID)),m.sysID!=null&&(this.sysID=this.stringify.dtdSysID(m.sysID)),m.nData!=null&&(this.nData=this.stringify.dtdNData(m.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(l))}}toString(o){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(o))}}return Object.defineProperty(i.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(i.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(i.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(i.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(i.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(i.prototype,"xmlVersion",{get:function(){return null}}),i}.call(this)}).call(ti)});var Ze=A((ii,ni)=>{(function(){var e,t,r;r=V(),e=P(),ni.exports=t=class extends r{constructor(i,h,o){if(super(i),h==null)throw new Error("Missing DTD element name. "+this.debugInfo());o||(o="(#PCDATA)"),Array.isArray(o)&&(o="("+o.join(",")+")"),this.name=this.stringify.name(h),this.type=e.ElementDeclaration,this.value=this.stringify.dtdElementValue(o)}toString(i){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(i))}}}).call(ii)});var Qe=A((si,ai)=>{(function(){var e,t,r;r=V(),e=P(),ai.exports=t=function(){class n extends r{constructor(h,o,c){if(super(h),o==null)throw new Error("Missing DTD notation name. "+this.debugInfo(o));if(!c.pubID&&!c.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(o));this.name=this.stringify.name(o),this.type=e.NotationDeclaration,c.pubID!=null&&(this.pubID=this.stringify.dtdPubID(c.pubID)),c.sysID!=null&&(this.sysID=this.stringify.dtdSysID(c.sysID))}toString(h){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(h))}}return Object.defineProperty(n.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(n.prototype,"systemId",{get:function(){return this.sysID}}),n}.call(this)}).call(si)});var Je=A((oi,ui)=>{(function(){var e,t,r,n,i,h,o,c,l;({isObject:l}=H()),c=V(),e=P(),t=Ke(),n=Ge(),r=Ze(),i=Qe(),o=$e(),ui.exports=h=function(){class m extends c{constructor(d,p,E){var b,I,O,x;if(super(d),this.type=e.DocType,d.children){for(x=d.children,I=0,O=x.length;I<O;I++)if(b=x[I],b.type===e.Element){this.name=b.name;break}}this.documentObject=d,l(p)&&({pubID:p,sysID:E}=p),E==null&&([E,p]=[p,E]),p!=null&&(this.pubID=this.stringify.dtdPubID(p)),E!=null&&(this.sysID=this.stringify.dtdSysID(E))}element(d,p){var E;return E=new r(this,d,p),this.children.push(E),this}attList(d,p,E,b,I){var O;return O=new t(this,d,p,E,b,I),this.children.push(O),this}entity(d,p){var E;return E=new n(this,!1,d,p),this.children.push(E),this}pEntity(d,p){var E;return E=new n(this,!0,d,p),this.children.push(E),this}notation(d,p){var E;return E=new i(this,d,p),this.children.push(E),this}toString(d){return this.options.writer.docType(this,this.options.writer.filterOptions(d))}ele(d,p){return this.element(d,p)}att(d,p,E,b,I){return this.attList(d,p,E,b,I)}ent(d,p){return this.entity(d,p)}pent(d,p){return this.pEntity(d,p)}not(d,p){return this.notation(d,p)}up(){return this.root()||this.documentObject}isEqualNode(d){return!(!super.isEqualNode(d)||d.name!==this.name||d.publicId!==this.publicId||d.systemId!==this.systemId)}}return Object.defineProperty(m.prototype,"entities",{get:function(){var w,d,p,E,b;for(E={},b=this.children,d=0,p=b.length;d<p;d++)w=b[d],w.type===e.EntityDeclaration&&!w.pe&&(E[w.name]=w);return new o(E)}}),Object.defineProperty(m.prototype,"notations",{get:function(){var w,d,p,E,b;for(E={},b=this.children,d=0,p=b.length;d<p;d++)w=b[d],w.type===e.NotationDeclaration&&(E[w.name]=w);return new o(E)}}),Object.defineProperty(m.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(m.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(m.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),m}.call(this)}).call(oi)});var et=A((hi,li)=>{(function(){var e,t,r;e=P(),t=V(),li.exports=r=class extends t{constructor(i,h){if(super(i),h==null)throw new Error("Missing raw text. "+this.debugInfo());this.type=e.Raw,this.value=this.stringify.raw(h)}clone(){return Object.create(this)}toString(i){return this.options.writer.raw(this,this.options.writer.filterOptions(i))}}}).call(hi)});var tt=A((ci,fi)=>{(function(){var e,t,r;e=P(),t=Me(),fi.exports=r=function(){class n extends t{constructor(h,o){if(super(h),o==null)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=e.Text,this.value=this.stringify.text(o)}clone(){return Object.create(this)}toString(h){return this.options.writer.text(this,this.options.writer.filterOptions(h))}splitText(h){throw new Error("This DOM method is not implemented."+this.debugInfo())}replaceWholeText(h){throw new Error("This DOM method is not implemented."+this.debugInfo())}}return Object.defineProperty(n.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(n.prototype,"wholeText",{get:function(){var i,h,o;for(o="",h=this.previousSibling;h;)o=h.data+o,h=h.previousSibling;for(o+=this.data,i=this.nextSibling;i;)o=o+i.data,i=i.nextSibling;return o}}),n}.call(this)}).call(ci)});var rt=A((di,pi)=>{(function(){var e,t,r;e=P(),t=Me(),pi.exports=r=class extends t{constructor(i,h,o){if(super(i),h==null)throw new Error("Missing instruction target. "+this.debugInfo());this.type=e.ProcessingInstruction,this.target=this.stringify.insTarget(h),this.name=this.target,o&&(this.value=this.stringify.insValue(o))}clone(){return Object.create(this)}toString(i){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(i))}isEqualNode(i){return!(!super.isEqualNode(i)||i.target!==this.target)}}}).call(di)});var Ot=A((mi,gi)=>{(function(){var e,t,r;r=V(),e=P(),gi.exports=t=class extends r{constructor(i){super(i),this.type=e.Dummy}clone(){return Object.create(this)}toString(i){return""}}}).call(mi)});var Di=A((yi,wi)=>{(function(){var e;wi.exports=e=function(){class t{constructor(n){this.nodes=n}clone(){return this.nodes=null}item(n){return this.nodes[n]||null}}return Object.defineProperty(t.prototype,"length",{get:function(){return this.nodes.length||0}}),t}.call(this)}).call(yi)});var Ei=A((vi,Ni)=>{(function(){Ni.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(vi)});var V=A((bi,Ti)=>{(function(){var e,t,r,n,i,h,o,c,l,m,w,d,p,E,b,I,O,x,B={}.hasOwnProperty,f=[].splice;({isObject:x,isFunction:O,isEmpty:I,getValue:b}=H()),c=null,r=null,n=null,i=null,h=null,p=null,E=null,d=null,o=null,t=null,w=null,l=null,e=null,Ti.exports=m=function(){class u{constructor(s){this.parent=s,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,c||(c=We(),r=ze(),n=He(),i=Ye(),h=Je(),p=et(),E=tt(),d=rt(),o=Ot(),t=P(),w=Di(),l=$e(),e=Ei())}setParent(s){var y,N,a,g,v;for(this.parent=s,s&&(this.options=s.options,this.stringify=s.stringify),g=this.children,v=[],N=0,a=g.length;N<a;N++)y=g[N],v.push(y.setParent(this));return v}element(s,y,N){var a,g,v,T,M,L,R,S,C;if(L=null,y===null&&N==null&&([y,N]=[{},null]),y==null&&(y={}),y=b(y),x(y)||([N,y]=[y,N]),s!=null&&(s=b(s)),Array.isArray(s))for(v=0,R=s.length;v<R;v++)g=s[v],L=this.element(g);else if(O(s))L=this.element(s.apply());else if(x(s)){for(M in s)if(!!B.call(s,M))if(C=s[M],O(C)&&(C=C.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&M.indexOf(this.stringify.convertAttKey)===0)L=this.attribute(M.substr(this.stringify.convertAttKey.length),C);else if(!this.options.separateArrayItems&&Array.isArray(C)&&I(C))L=this.dummy();else if(x(C)&&I(C))L=this.element(M);else if(!this.options.keepNullNodes&&C==null)L=this.dummy();else if(!this.options.separateArrayItems&&Array.isArray(C))for(T=0,S=C.length;T<S;T++)g=C[T],a={},a[M]=g,L=this.element(a);else x(C)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&M.indexOf(this.stringify.convertTextKey)===0?L=this.element(C):(L=this.element(M),L.element(C)):L=this.element(M,C)}else!this.options.keepNullNodes&&N===null?L=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&s.indexOf(this.stringify.convertTextKey)===0?L=this.text(N):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&s.indexOf(this.stringify.convertCDataKey)===0?L=this.cdata(N):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&s.indexOf(this.stringify.convertCommentKey)===0?L=this.comment(N):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&s.indexOf(this.stringify.convertRawKey)===0?L=this.raw(N):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&s.indexOf(this.stringify.convertPIKey)===0?L=this.instruction(s.substr(this.stringify.convertPIKey.length),N):L=this.node(s,y,N);if(L==null)throw new Error("Could not create any elements with: "+s+". "+this.debugInfo());return L}insertBefore(s,y,N){var a,g,v,T,M;if(s?.type)return v=s,T=y,v.setParent(this),T?(g=children.indexOf(T),M=children.splice(g),children.push(v),Array.prototype.push.apply(children,M)):children.push(v),v;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(s));return g=this.parent.children.indexOf(this),M=this.parent.children.splice(g),a=this.parent.element(s,y,N),Array.prototype.push.apply(this.parent.children,M),a}insertAfter(s,y,N){var a,g,v;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(s));return g=this.parent.children.indexOf(this),v=this.parent.children.splice(g+1),a=this.parent.element(s,y,N),Array.prototype.push.apply(this.parent.children,v),a}remove(){var s,y;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return s=this.parent.children.indexOf(this),f.apply(this.parent.children,[s,s-s+1].concat(y=[])),this.parent}node(s,y,N){var a;return s!=null&&(s=b(s)),y||(y={}),y=b(y),x(y)||([N,y]=[y,N]),a=new c(this,s,y),N!=null&&a.text(N),this.children.push(a),a}text(s){var y;return x(s)&&this.element(s),y=new E(this,s),this.children.push(y),this}cdata(s){var y;return y=new r(this,s),this.children.push(y),this}comment(s){var y;return y=new n(this,s),this.children.push(y),this}commentBefore(s){var y,N,a;return N=this.parent.children.indexOf(this),a=this.parent.children.splice(N),y=this.parent.comment(s),Array.prototype.push.apply(this.parent.children,a),this}commentAfter(s){var y,N,a;return N=this.parent.children.indexOf(this),a=this.parent.children.splice(N+1),y=this.parent.comment(s),Array.prototype.push.apply(this.parent.children,a),this}raw(s){var y;return y=new p(this,s),this.children.push(y),this}dummy(){var s;return s=new o(this),s}instruction(s,y){var N,a,g,v,T;if(s!=null&&(s=b(s)),y!=null&&(y=b(y)),Array.isArray(s))for(v=0,T=s.length;v<T;v++)N=s[v],this.instruction(N);else if(x(s))for(N in s)!B.call(s,N)||(a=s[N],this.instruction(N,a));else O(y)&&(y=y.apply()),g=new d(this,s,y),this.children.push(g);return this}instructionBefore(s,y){var N,a,g;return a=this.parent.children.indexOf(this),g=this.parent.children.splice(a),N=this.parent.instruction(s,y),Array.prototype.push.apply(this.parent.children,g),this}instructionAfter(s,y){var N,a,g;return a=this.parent.children.indexOf(this),g=this.parent.children.splice(a+1),N=this.parent.instruction(s,y),Array.prototype.push.apply(this.parent.children,g),this}declaration(s,y,N){var a,g;return a=this.document(),g=new i(a,s,y,N),a.children.length===0?a.children.unshift(g):a.children[0].type===t.Declaration?a.children[0]=g:a.children.unshift(g),a.root()||a}dtd(s,y){var N,a,g,v,T,M,L,R,S,C;for(a=this.document(),g=new h(a,s,y),S=a.children,v=T=0,L=S.length;T<L;v=++T)if(N=S[v],N.type===t.DocType)return a.children[v]=g,g;for(C=a.children,v=M=0,R=C.length;M<R;v=++M)if(N=C[v],N.isRoot)return a.children.splice(v,0,g),g;return a.children.push(g),g}up(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent}root(){var s;for(s=this;s;){if(s.type===t.Document)return s.rootObject;if(s.isRoot)return s;s=s.parent}}document(){var s;for(s=this;s;){if(s.type===t.Document)return s;s=s.parent}}end(s){return this.document().end(s)}prev(){var s;if(s=this.parent.children.indexOf(this),s<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[s-1]}next(){var s;if(s=this.parent.children.indexOf(this),s===-1||s===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[s+1]}importDocument(s){var y,N,a,g,v;if(N=s.root().clone(),N.parent=this,N.isRoot=!1,this.children.push(N),this.type===t.Document&&(N.isRoot=!0,N.documentObject=this,this.rootObject=N,this.children)){for(v=this.children,a=0,g=v.length;a<g;a++)if(y=v[a],y.type===t.DocType){y.name=N.name;break}}return this}debugInfo(s){var y,N;return s=s||this.name,s==null&&!((y=this.parent)!=null&&y.name)?"":s==null?"parent: <"+this.parent.name+">":(N=this.parent)!=null&&N.name?"node: <"+s+">, parent: <"+this.parent.name+">":"node: <"+s+">"}ele(s,y,N){return this.element(s,y,N)}nod(s,y,N){return this.node(s,y,N)}txt(s){return this.text(s)}dat(s){return this.cdata(s)}com(s){return this.comment(s)}ins(s,y){return this.instruction(s,y)}doc(){return this.document()}dec(s,y,N){return this.declaration(s,y,N)}e(s,y,N){return this.element(s,y,N)}n(s,y,N){return this.node(s,y,N)}t(s){return this.text(s)}d(s){return this.cdata(s)}c(s){return this.comment(s)}r(s){return this.raw(s)}i(s,y){return this.instruction(s,y)}u(){return this.up()}importXMLBuilder(s){return this.importDocument(s)}attribute(s,y){throw new Error("attribute() applies to element nodes only.")}att(s,y){return this.attribute(s,y)}a(s,y){return this.attribute(s,y)}removeAttribute(s){throw new Error("attribute() applies to element nodes only.")}replaceChild(s,y){throw new Error("This DOM method is not implemented."+this.debugInfo())}removeChild(s){throw new Error("This DOM method is not implemented."+this.debugInfo())}appendChild(s){throw new Error("This DOM method is not implemented."+this.debugInfo())}hasChildNodes(){return this.children.length!==0}cloneNode(s){throw new Error("This DOM method is not implemented."+this.debugInfo())}normalize(){throw new Error("This DOM method is not implemented."+this.debugInfo())}isSupported(s,y){return!0}hasAttributes(){return this.attribs.length!==0}compareDocumentPosition(s){var y,N;return y=this,y===s?0:this.document()!==s.document()?(N=e.Disconnected|e.ImplementationSpecific,Math.random()<.5?N|=e.Preceding:N|=e.Following,N):y.isAncestor(s)?e.Contains|e.Preceding:y.isDescendant(s)?e.Contains|e.Following:y.isPreceding(s)?e.Preceding:e.Following}isSameNode(s){throw new Error("This DOM method is not implemented."+this.debugInfo())}lookupPrefix(s){throw new Error("This DOM method is not implemented."+this.debugInfo())}isDefaultNamespace(s){throw new Error("This DOM method is not implemented."+this.debugInfo())}lookupNamespaceURI(s){throw new Error("This DOM method is not implemented."+this.debugInfo())}isEqualNode(s){var y,N,a;if(s.nodeType!==this.nodeType||s.children.length!==this.children.length)return!1;for(y=N=0,a=this.children.length-1;0<=a?N<=a:N>=a;y=0<=a?++N:--N)if(!this.children[y].isEqualNode(s.children[y]))return!1;return!0}getFeature(s,y){throw new Error("This DOM method is not implemented."+this.debugInfo())}setUserData(s,y,N){throw new Error("This DOM method is not implemented."+this.debugInfo())}getUserData(s){throw new Error("This DOM method is not implemented."+this.debugInfo())}contains(s){return s?s===this||this.isDescendant(s):!1}isDescendant(s){var y,N,a,g,v;for(v=this.children,a=0,g=v.length;a<g;a++)if(y=v[a],s===y||(N=y.isDescendant(s),N))return!0;return!1}isAncestor(s){return s.isDescendant(this)}isPreceding(s){var y,N;return y=this.treePosition(s),N=this.treePosition(this),y===-1||N===-1?!1:y<N}isFollowing(s){var y,N;return y=this.treePosition(s),N=this.treePosition(this),y===-1||N===-1?!1:y>N}treePosition(s){var y,N;return N=0,y=!1,this.foreachTreeNode(this.document(),function(a){if(N++,!y&&a===s)return y=!0}),y?N:-1}foreachTreeNode(s,y){var N,a,g,v,T;for(s||(s=this.document()),v=s.children,a=0,g=v.length;a<g;a++){if(N=v[a],T=y(N))return T;if(T=this.foreachTreeNode(N,y),T)return T}}}return Object.defineProperty(u.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(u.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(u.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(u.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(u.prototype,"childNodes",{get:function(){return(!this.childNodeList||!this.childNodeList.nodes)&&(this.childNodeList=new w(this.children)),this.childNodeList}}),Object.defineProperty(u.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(u.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(u.prototype,"previousSibling",{get:function(){var D;return D=this.parent.children.indexOf(this),this.parent.children[D-1]||null}}),Object.defineProperty(u.prototype,"nextSibling",{get:function(){var D;return D=this.parent.children.indexOf(this),this.parent.children[D+1]||null}}),Object.defineProperty(u.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(u.prototype,"textContent",{get:function(){var D,s,y,N,a;if(this.nodeType===t.Element||this.nodeType===t.DocumentFragment){for(a="",N=this.children,s=0,y=N.length;s<y;s++)D=N[s],D.textContent&&(a+=D.textContent);return a}else return null},set:function(D){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),u}.call(this)}).call(bi)});var It=A((Oi,Ii)=>{(function(){var e,t={}.hasOwnProperty;Ii.exports=e=function(){class r{constructor(i){var h,o,c;this.assertLegalChar=this.assertLegalChar.bind(this),this.assertLegalName=this.assertLegalName.bind(this),i||(i={}),this.options=i,this.options.version||(this.options.version="1.0"),o=i.stringify||{};for(h in o)!t.call(o,h)||(c=o[h],this[h]=c)}name(i){return this.options.noValidation?i:this.assertLegalName(""+i||"")}text(i){return this.options.noValidation?i:this.assertLegalChar(this.textEscape(""+i||""))}cdata(i){return this.options.noValidation?i:(i=""+i||"",i=i.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(i))}comment(i){if(this.options.noValidation)return i;if(i=""+i||"",i.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+i);return this.assertLegalChar(i)}raw(i){return this.options.noValidation?i:""+i||""}attValue(i){return this.options.noValidation?i:this.assertLegalChar(this.attEscape(i=""+i||""))}insTarget(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")}insValue(i){if(this.options.noValidation)return i;if(i=""+i||"",i.match(/\?>/))throw new Error("Invalid processing instruction value: "+i);return this.assertLegalChar(i)}xmlVersion(i){if(this.options.noValidation)return i;if(i=""+i||"",!i.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+i);return i}xmlEncoding(i){if(this.options.noValidation)return i;if(i=""+i||"",!i.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+i);return this.assertLegalChar(i)}xmlStandalone(i){return this.options.noValidation?i:i?"yes":"no"}dtdPubID(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")}dtdSysID(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")}dtdElementValue(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")}dtdAttType(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")}dtdAttDefault(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")}dtdEntityValue(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")}dtdNData(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")}assertLegalChar(i){var h,o;if(this.options.noValidation)return i;if(this.options.version==="1.0"){if(h=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/g,this.options.invalidCharReplacement!==void 0)i=i.replace(h,this.options.invalidCharReplacement);else if(o=i.match(h))throw new Error(`Invalid character in string: ${i} at index ${o.index}`)}else if(this.options.version==="1.1"){if(h=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/g,this.options.invalidCharReplacement!==void 0)i=i.replace(h,this.options.invalidCharReplacement);else if(o=i.match(h))throw new Error(`Invalid character in string: ${i} at index ${o.index}`)}return i}assertLegalName(i){var h;if(this.options.noValidation)return i;if(i=this.assertLegalChar(i),h=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!i.match(h))throw new Error(`Invalid character in name: ${i}`);return i}textEscape(i){var h;return this.options.noValidation?i:(h=this.options.noDoubleEncoding?/(?!&(lt|gt|amp|apos|quot);)&/g:/&/g,i.replace(h,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))}attEscape(i){var h;return this.options.noValidation?i:(h=this.options.noDoubleEncoding?/(?!&(lt|gt|amp|apos|quot);)&/g:/&/g,i.replace(h,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))}}return r.prototype.convertAttKey="@",r.prototype.convertPIKey="?",r.prototype.convertTextKey="#text",r.prototype.convertCDataKey="#cdata",r.prototype.convertCommentKey="#comment",r.prototype.convertRawKey="#raw",r}.call(this)}).call(Oi)});var Le=A((Ci,Mi)=>{(function(){Mi.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(Ci)});var Ct=A((Li,Ai)=>{(function(){var e,t,r,n,i,h,o,c,l,m,w,d,p,E,b,I,O,x={}.hasOwnProperty;({assign:O}=H()),e=P(),l=Ye(),m=Je(),r=ze(),n=He(),d=We(),E=et(),b=tt(),p=rt(),w=Ot(),i=Ke(),h=Ze(),o=Ge(),c=Qe(),t=Le(),Ai.exports=I=class{constructor(f){var u,D,s;f||(f={}),this.options=f,D=f.writer||{};for(u in D)!x.call(D,u)||(s=D[u],this["_"+u]=this[u],this[u]=s)}filterOptions(f){var u,D,s,y,N,a,g,v,T;return f||(f={}),f=O({},this.options,f),u={writer:this},u.pretty=f.pretty||!1,u.allowEmpty=f.allowEmpty||!1,u.indent=(D=f.indent)!=null?D:"  ",u.newline=(s=f.newline)!=null?s:`
`,u.offset=(y=f.offset)!=null?y:0,u.width=(N=f.width)!=null?N:0,u.dontPrettyTextNodes=(a=(g=f.dontPrettyTextNodes)!=null?g:f.dontprettytextnodes)!=null?a:0,u.spaceBeforeSlash=(v=(T=f.spaceBeforeSlash)!=null?T:f.spacebeforeslash)!=null?v:"",u.spaceBeforeSlash===!0&&(u.spaceBeforeSlash=" "),u.suppressPrettyCount=0,u.user={},u.state=t.None,u}indent(f,u,D){var s;return!u.pretty||u.suppressPrettyCount?"":u.pretty&&(s=(D||0)+u.offset+1,s>0)?new Array(s).join(u.indent):""}endline(f,u,D){return!u.pretty||u.suppressPrettyCount?"":u.newline}attribute(f,u,D){var s;return this.openAttribute(f,u,D),u.pretty&&u.width>0?s=f.name+'="'+f.value+'"':s=" "+f.name+'="'+f.value+'"',this.closeAttribute(f,u,D),s}cdata(f,u,D){var s;return this.openNode(f,u,D),u.state=t.OpenTag,s=this.indent(f,u,D)+"<![CDATA[",u.state=t.InsideTag,s+=f.value,u.state=t.CloseTag,s+="]]>"+this.endline(f,u,D),u.state=t.None,this.closeNode(f,u,D),s}comment(f,u,D){var s;return this.openNode(f,u,D),u.state=t.OpenTag,s=this.indent(f,u,D)+"<!-- ",u.state=t.InsideTag,s+=f.value,u.state=t.CloseTag,s+=" -->"+this.endline(f,u,D),u.state=t.None,this.closeNode(f,u,D),s}declaration(f,u,D){var s;return this.openNode(f,u,D),u.state=t.OpenTag,s=this.indent(f,u,D)+"<?xml",u.state=t.InsideTag,s+=' version="'+f.version+'"',f.encoding!=null&&(s+=' encoding="'+f.encoding+'"'),f.standalone!=null&&(s+=' standalone="'+f.standalone+'"'),u.state=t.CloseTag,s+=u.spaceBeforeSlash+"?>",s+=this.endline(f,u,D),u.state=t.None,this.closeNode(f,u,D),s}docType(f,u,D){var s,y,N,a,g;if(D||(D=0),this.openNode(f,u,D),u.state=t.OpenTag,a=this.indent(f,u,D),a+="<!DOCTYPE "+f.root().name,f.pubID&&f.sysID?a+=' PUBLIC "'+f.pubID+'" "'+f.sysID+'"':f.sysID&&(a+=' SYSTEM "'+f.sysID+'"'),f.children.length>0){for(a+=" [",a+=this.endline(f,u,D),u.state=t.InsideTag,g=f.children,y=0,N=g.length;y<N;y++)s=g[y],a+=this.writeChildNode(s,u,D+1);u.state=t.CloseTag,a+="]"}return u.state=t.CloseTag,a+=u.spaceBeforeSlash+">",a+=this.endline(f,u,D),u.state=t.None,this.closeNode(f,u,D),a}element(f,u,D){var s,y,N,a,g,v,T,M,L,R,S,C,F,Se,xe,Pe,at,ot,ne;if(D||(D=0),C=!1,this.openNode(f,u,D),u.state=t.OpenTag,F=this.indent(f,u,D)+"<"+f.name,u.pretty&&u.width>0){M=F.length,xe=f.attribs;for(S in xe)!x.call(xe,S)||(s=xe[S],Se=this.attribute(s,u,D),y=Se.length,M+y>u.width?(ne=this.indent(f,u,D+1)+Se,F+=this.endline(f,u,D)+ne,M=ne.length):(ne=" "+Se,F+=ne,M+=ne.length))}else{Pe=f.attribs;for(S in Pe)!x.call(Pe,S)||(s=Pe[S],F+=this.attribute(s,u,D))}if(a=f.children.length,g=a===0?null:f.children[0],a===0||f.children.every(function(Re){return(Re.type===e.Text||Re.type===e.Raw||Re.type===e.CData)&&Re.value===""}))u.allowEmpty?(F+=">",u.state=t.CloseTag,F+="</"+f.name+">"+this.endline(f,u,D)):(u.state=t.CloseTag,F+=u.spaceBeforeSlash+"/>"+this.endline(f,u,D));else if(u.pretty&&a===1&&(g.type===e.Text||g.type===e.Raw||g.type===e.CData)&&g.value!=null)F+=">",u.state=t.InsideTag,u.suppressPrettyCount++,C=!0,F+=this.writeChildNode(g,u,D+1),u.suppressPrettyCount--,C=!1,u.state=t.CloseTag,F+="</"+f.name+">"+this.endline(f,u,D);else{if(u.dontPrettyTextNodes){for(at=f.children,v=0,L=at.length;v<L;v++)if(N=at[v],(N.type===e.Text||N.type===e.Raw||N.type===e.CData)&&N.value!=null){u.suppressPrettyCount++,C=!0;break}}for(F+=">"+this.endline(f,u,D),u.state=t.InsideTag,ot=f.children,T=0,R=ot.length;T<R;T++)N=ot[T],F+=this.writeChildNode(N,u,D+1);u.state=t.CloseTag,F+=this.indent(f,u,D)+"</"+f.name+">",C&&u.suppressPrettyCount--,F+=this.endline(f,u,D),u.state=t.None}return this.closeNode(f,u,D),F}writeChildNode(f,u,D){switch(f.type){case e.CData:return this.cdata(f,u,D);case e.Comment:return this.comment(f,u,D);case e.Element:return this.element(f,u,D);case e.Raw:return this.raw(f,u,D);case e.Text:return this.text(f,u,D);case e.ProcessingInstruction:return this.processingInstruction(f,u,D);case e.Dummy:return"";case e.Declaration:return this.declaration(f,u,D);case e.DocType:return this.docType(f,u,D);case e.AttributeDeclaration:return this.dtdAttList(f,u,D);case e.ElementDeclaration:return this.dtdElement(f,u,D);case e.EntityDeclaration:return this.dtdEntity(f,u,D);case e.NotationDeclaration:return this.dtdNotation(f,u,D);default:throw new Error("Unknown XML node type: "+f.constructor.name)}}processingInstruction(f,u,D){var s;return this.openNode(f,u,D),u.state=t.OpenTag,s=this.indent(f,u,D)+"<?",u.state=t.InsideTag,s+=f.target,f.value&&(s+=" "+f.value),u.state=t.CloseTag,s+=u.spaceBeforeSlash+"?>",s+=this.endline(f,u,D),u.state=t.None,this.closeNode(f,u,D),s}raw(f,u,D){var s;return this.openNode(f,u,D),u.state=t.OpenTag,s=this.indent(f,u,D),u.state=t.InsideTag,s+=f.value,u.state=t.CloseTag,s+=this.endline(f,u,D),u.state=t.None,this.closeNode(f,u,D),s}text(f,u,D){var s;return this.openNode(f,u,D),u.state=t.OpenTag,s=this.indent(f,u,D),u.state=t.InsideTag,s+=f.value,u.state=t.CloseTag,s+=this.endline(f,u,D),u.state=t.None,this.closeNode(f,u,D),s}dtdAttList(f,u,D){var s;return this.openNode(f,u,D),u.state=t.OpenTag,s=this.indent(f,u,D)+"<!ATTLIST",u.state=t.InsideTag,s+=" "+f.elementName+" "+f.attributeName+" "+f.attributeType,f.defaultValueType!=="#DEFAULT"&&(s+=" "+f.defaultValueType),f.defaultValue&&(s+=' "'+f.defaultValue+'"'),u.state=t.CloseTag,s+=u.spaceBeforeSlash+">"+this.endline(f,u,D),u.state=t.None,this.closeNode(f,u,D),s}dtdElement(f,u,D){var s;return this.openNode(f,u,D),u.state=t.OpenTag,s=this.indent(f,u,D)+"<!ELEMENT",u.state=t.InsideTag,s+=" "+f.name+" "+f.value,u.state=t.CloseTag,s+=u.spaceBeforeSlash+">"+this.endline(f,u,D),u.state=t.None,this.closeNode(f,u,D),s}dtdEntity(f,u,D){var s;return this.openNode(f,u,D),u.state=t.OpenTag,s=this.indent(f,u,D)+"<!ENTITY",u.state=t.InsideTag,f.pe&&(s+=" %"),s+=" "+f.name,f.value?s+=' "'+f.value+'"':(f.pubID&&f.sysID?s+=' PUBLIC "'+f.pubID+'" "'+f.sysID+'"':f.sysID&&(s+=' SYSTEM "'+f.sysID+'"'),f.nData&&(s+=" NDATA "+f.nData)),u.state=t.CloseTag,s+=u.spaceBeforeSlash+">"+this.endline(f,u,D),u.state=t.None,this.closeNode(f,u,D),s}dtdNotation(f,u,D){var s;return this.openNode(f,u,D),u.state=t.OpenTag,s=this.indent(f,u,D)+"<!NOTATION",u.state=t.InsideTag,s+=" "+f.name,f.pubID&&f.sysID?s+=' PUBLIC "'+f.pubID+'" "'+f.sysID+'"':f.pubID?s+=' PUBLIC "'+f.pubID+'"':f.sysID&&(s+=' SYSTEM "'+f.sysID+'"'),u.state=t.CloseTag,s+=u.spaceBeforeSlash+">"+this.endline(f,u,D),u.state=t.None,this.closeNode(f,u,D),s}openNode(f,u,D){}closeNode(f,u,D){}openAttribute(f,u,D){}closeAttribute(f,u,D){}}}).call(Li)});var it=A((Si,xi)=>{(function(){var e,t;t=Ct(),xi.exports=e=class extends t{constructor(n){super(n)}document(n,i){var h,o,c,l,m;for(i=this.filterOptions(i),l="",m=n.children,o=0,c=m.length;o<c;o++)h=m[o],l+=this.writeChildNode(h,i,0);return i.pretty&&l.slice(-i.newline.length)===i.newline&&(l=l.slice(0,-i.newline.length)),l}}}).call(Si)});var Mt=A((Pi,Ri)=>{(function(){var e,t,r,n,i,h,o,c;({isPlainObject:c}=H()),r=bt(),t=_r(),i=V(),e=P(),o=It(),h=it(),Ri.exports=n=function(){class l extends i{constructor(w){super(null),this.name="#document",this.type=e.Document,this.documentURI=null,this.domConfig=new t,w||(w={}),w.writer||(w.writer=new h),this.options=w,this.stringify=new o(w)}end(w){var d;return d={},w?c(w)&&(d=w,w=this.options.writer):w=this.options.writer,w.document(this,w.filterOptions(d))}toString(w){return this.options.writer.document(this,this.options.writer.filterOptions(w))}createElement(w){throw new Error("This DOM method is not implemented."+this.debugInfo())}createDocumentFragment(){throw new Error("This DOM method is not implemented."+this.debugInfo())}createTextNode(w){throw new Error("This DOM method is not implemented."+this.debugInfo())}createComment(w){throw new Error("This DOM method is not implemented."+this.debugInfo())}createCDATASection(w){throw new Error("This DOM method is not implemented."+this.debugInfo())}createProcessingInstruction(w,d){throw new Error("This DOM method is not implemented."+this.debugInfo())}createAttribute(w){throw new Error("This DOM method is not implemented."+this.debugInfo())}createEntityReference(w){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByTagName(w){throw new Error("This DOM method is not implemented."+this.debugInfo())}importNode(w,d){throw new Error("This DOM method is not implemented."+this.debugInfo())}createElementNS(w,d){throw new Error("This DOM method is not implemented."+this.debugInfo())}createAttributeNS(w,d){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByTagNameNS(w,d){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementById(w){throw new Error("This DOM method is not implemented."+this.debugInfo())}adoptNode(w){throw new Error("This DOM method is not implemented."+this.debugInfo())}normalizeDocument(){throw new Error("This DOM method is not implemented."+this.debugInfo())}renameNode(w,d,p){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByClassName(w){throw new Error("This DOM method is not implemented."+this.debugInfo())}createEvent(w){throw new Error("This DOM method is not implemented."+this.debugInfo())}createRange(){throw new Error("This DOM method is not implemented."+this.debugInfo())}createNodeIterator(w,d,p){throw new Error("This DOM method is not implemented."+this.debugInfo())}createTreeWalker(w,d,p){throw new Error("This DOM method is not implemented."+this.debugInfo())}}return Object.defineProperty(l.prototype,"implementation",{value:new r}),Object.defineProperty(l.prototype,"doctype",{get:function(){var m,w,d,p;for(p=this.children,w=0,d=p.length;w<d;w++)if(m=p[w],m.type===e.DocType)return m;return null}}),Object.defineProperty(l.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(l.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(l.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(l.prototype,"xmlEncoding",{get:function(){return this.children.length!==0&&this.children[0].type===e.Declaration?this.children[0].encoding:null}}),Object.defineProperty(l.prototype,"xmlStandalone",{get:function(){return this.children.length!==0&&this.children[0].type===e.Declaration?this.children[0].standalone==="yes":!1}}),Object.defineProperty(l.prototype,"xmlVersion",{get:function(){return this.children.length!==0&&this.children[0].type===e.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(l.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(l.prototype,"origin",{get:function(){return null}}),Object.defineProperty(l.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(l.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(l.prototype,"contentType",{get:function(){return null}}),l}.call(this)}).call(Pi)});var Xi=A((Fi,_i)=>{(function(){var e,t,r,n,i,h,o,c,l,m,w,d,p,E,b,I,O,x,B,f,u,D,s,y={}.hasOwnProperty;({isObject:D,isFunction:u,isPlainObject:s,getValue:f}=H()),e=P(),d=Mt(),E=We(),n=ze(),i=He(),I=et(),B=tt(),b=rt(),m=Ye(),w=Je(),h=Ke(),c=Ge(),o=Ze(),l=Qe(),r=Tt(),x=It(),O=it(),t=Le(),_i.exports=p=class{constructor(a,g,v){var T;this.name="?xml",this.type=e.Document,a||(a={}),T={},a.writer?s(a.writer)&&(T=a.writer,a.writer=new O):a.writer=new O,this.options=a,this.writer=a.writer,this.writerOptions=this.writer.filterOptions(T),this.stringify=new x(a),this.onDataCallback=g||function(){},this.onEndCallback=v||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}createChildNode(a){var g,v,T,M,L,R,S,C;switch(a.type){case e.CData:this.cdata(a.value);break;case e.Comment:this.comment(a.value);break;case e.Element:T={},S=a.attribs;for(v in S)!y.call(S,v)||(g=S[v],T[v]=g.value);this.node(a.name,T);break;case e.Dummy:this.dummy();break;case e.Raw:this.raw(a.value);break;case e.Text:this.text(a.value);break;case e.ProcessingInstruction:this.instruction(a.target,a.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+a.constructor.name)}for(C=a.children,L=0,R=C.length;L<R;L++)M=C[L],this.createChildNode(M),M.type===e.Element&&this.up();return this}dummy(){return this}node(a,g,v){if(a==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(a));return this.openCurrent(),a=f(a),g==null&&(g={}),g=f(g),D(g)||([v,g]=[g,v]),this.currentNode=new E(this,a,g),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,v!=null&&this.text(v),this}element(a,g,v){var T,M,L,R,S,C;if(this.currentNode&&this.currentNode.type===e.DocType)this.dtdElement(...arguments);else if(Array.isArray(a)||D(a)||u(a))for(R=this.options.noValidation,this.options.noValidation=!0,C=new d(this.options).element("TEMP_ROOT"),C.element(a),this.options.noValidation=R,S=C.children,M=0,L=S.length;M<L;M++)T=S[M],this.createChildNode(T),T.type===e.Element&&this.up();else this.node(a,g,v);return this}attribute(a,g){var v,T;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(a));if(a!=null&&(a=f(a)),D(a))for(v in a)!y.call(a,v)||(T=a[v],this.attribute(v,T));else u(g)&&(g=g.apply()),this.options.keepNullAttributes&&g==null?this.currentNode.attribs[a]=new r(this,a,""):g!=null&&(this.currentNode.attribs[a]=new r(this,a,g));return this}text(a){var g;return this.openCurrent(),g=new B(this,a),this.onData(this.writer.text(g,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}cdata(a){var g;return this.openCurrent(),g=new n(this,a),this.onData(this.writer.cdata(g,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}comment(a){var g;return this.openCurrent(),g=new i(this,a),this.onData(this.writer.comment(g,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}raw(a){var g;return this.openCurrent(),g=new I(this,a),this.onData(this.writer.raw(g,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}instruction(a,g){var v,T,M,L,R;if(this.openCurrent(),a!=null&&(a=f(a)),g!=null&&(g=f(g)),Array.isArray(a))for(v=0,L=a.length;v<L;v++)T=a[v],this.instruction(T);else if(D(a))for(T in a)!y.call(a,T)||(M=a[T],this.instruction(T,M));else u(g)&&(g=g.apply()),R=new b(this,a,g),this.onData(this.writer.processingInstruction(R,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this}declaration(a,g,v){var T;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return T=new m(this,a,g,v),this.onData(this.writer.declaration(T,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}doctype(a,g,v){if(this.openCurrent(),a==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new w(this,g,v),this.currentNode.rootNodeName=a,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this}dtdElement(a,g){var v;return this.openCurrent(),v=new o(this,a,g),this.onData(this.writer.dtdElement(v,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}attList(a,g,v,T,M){var L;return this.openCurrent(),L=new h(this,a,g,v,T,M),this.onData(this.writer.dtdAttList(L,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}entity(a,g){var v;return this.openCurrent(),v=new c(this,!1,a,g),this.onData(this.writer.dtdEntity(v,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}pEntity(a,g){var v;return this.openCurrent(),v=new c(this,!0,a,g),this.onData(this.writer.dtdEntity(v,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}notation(a,g){var v;return this.openCurrent(),v=new l(this,a,g),this.onData(this.writer.dtdNotation(v,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}up(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this}end(){for(;this.currentLevel>=0;)this.up();return this.onEnd()}openCurrent(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)}openNode(a){var g,v,T,M;if(!a.isOpen){if(!this.root&&this.currentLevel===0&&a.type===e.Element&&(this.root=a),v="",a.type===e.Element){this.writerOptions.state=t.OpenTag,v=this.writer.indent(a,this.writerOptions,this.currentLevel)+"<"+a.name,M=a.attribs;for(T in M)!y.call(M,T)||(g=M[T],v+=this.writer.attribute(g,this.writerOptions,this.currentLevel));v+=(a.children?">":"/>")+this.writer.endline(a,this.writerOptions,this.currentLevel),this.writerOptions.state=t.InsideTag}else this.writerOptions.state=t.OpenTag,v=this.writer.indent(a,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+a.rootNodeName,a.pubID&&a.sysID?v+=' PUBLIC "'+a.pubID+'" "'+a.sysID+'"':a.sysID&&(v+=' SYSTEM "'+a.sysID+'"'),a.children?(v+=" [",this.writerOptions.state=t.InsideTag):(this.writerOptions.state=t.CloseTag,v+=">"),v+=this.writer.endline(a,this.writerOptions,this.currentLevel);return this.onData(v,this.currentLevel),a.isOpen=!0}}closeNode(a){var g;if(!a.isClosed)return g="",this.writerOptions.state=t.CloseTag,a.type===e.Element?g=this.writer.indent(a,this.writerOptions,this.currentLevel)+"</"+a.name+">"+this.writer.endline(a,this.writerOptions,this.currentLevel):g=this.writer.indent(a,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(a,this.writerOptions,this.currentLevel),this.writerOptions.state=t.None,this.onData(g,this.currentLevel),a.isClosed=!0}onData(a,g){return this.documentStarted=!0,this.onDataCallback(a,g+1)}onEnd(){return this.documentCompleted=!0,this.onEndCallback()}debugInfo(a){return a==null?"":"node: <"+a+">"}ele(){return this.element(...arguments)}nod(a,g,v){return this.node(a,g,v)}txt(a){return this.text(a)}dat(a){return this.cdata(a)}com(a){return this.comment(a)}ins(a,g){return this.instruction(a,g)}dec(a,g,v){return this.declaration(a,g,v)}dtd(a,g,v){return this.doctype(a,g,v)}e(a,g,v){return this.element(a,g,v)}n(a,g,v){return this.node(a,g,v)}t(a){return this.text(a)}d(a){return this.cdata(a)}c(a){return this.comment(a)}r(a){return this.raw(a)}i(a,g){return this.instruction(a,g)}att(){return this.currentNode&&this.currentNode.type===e.DocType?this.attList(...arguments):this.attribute(...arguments)}a(){return this.currentNode&&this.currentNode.type===e.DocType?this.attList(...arguments):this.attribute(...arguments)}ent(a,g){return this.entity(a,g)}pent(a,g){return this.pEntity(a,g)}not(a,g){return this.notation(a,g)}}}).call(Fi)});var Ui=A((qi,ji)=>{(function(){var e,t,r,n,i={}.hasOwnProperty;e=P(),n=Ct(),t=Le(),ji.exports=r=class extends n{constructor(o,c){super(c),this.stream=o}endline(o,c,l){return o.isLastRootNode&&c.state===t.CloseTag?"":super.endline(o,c,l)}document(o,c){var l,m,w,d,p,E,b,I,O;for(b=o.children,m=w=0,p=b.length;w<p;m=++w)l=b[m],l.isLastRootNode=m===o.children.length-1;for(c=this.filterOptions(c),I=o.children,O=[],d=0,E=I.length;d<E;d++)l=I[d],O.push(this.writeChildNode(l,c,0));return O}cdata(o,c,l){return this.stream.write(super.cdata(o,c,l))}comment(o,c,l){return this.stream.write(super.comment(o,c,l))}declaration(o,c,l){return this.stream.write(super.declaration(o,c,l))}docType(o,c,l){var m,w,d,p;if(l||(l=0),this.openNode(o,c,l),c.state=t.OpenTag,this.stream.write(this.indent(o,c,l)),this.stream.write("<!DOCTYPE "+o.root().name),o.pubID&&o.sysID?this.stream.write(' PUBLIC "'+o.pubID+'" "'+o.sysID+'"'):o.sysID&&this.stream.write(' SYSTEM "'+o.sysID+'"'),o.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(o,c,l)),c.state=t.InsideTag,p=o.children,w=0,d=p.length;w<d;w++)m=p[w],this.writeChildNode(m,c,l+1);c.state=t.CloseTag,this.stream.write("]")}return c.state=t.CloseTag,this.stream.write(c.spaceBeforeSlash+">"),this.stream.write(this.endline(o,c,l)),c.state=t.None,this.closeNode(o,c,l)}element(o,c,l){var m,w,d,p,E,b,I,O,x,B,f,u,D,s,y,N;if(l||(l=0),this.openNode(o,c,l),c.state=t.OpenTag,f=this.indent(o,c,l)+"<"+o.name,c.pretty&&c.width>0){I=f.length,D=o.attribs;for(x in D)!i.call(D,x)||(m=D[x],u=this.attribute(m,c,l),w=u.length,I+w>c.width?(N=this.indent(o,c,l+1)+u,f+=this.endline(o,c,l)+N,I=N.length):(N=" "+u,f+=N,I+=N.length))}else{s=o.attribs;for(x in s)!i.call(s,x)||(m=s[x],f+=this.attribute(m,c,l))}if(this.stream.write(f),p=o.children.length,E=p===0?null:o.children[0],p===0||o.children.every(function(a){return(a.type===e.Text||a.type===e.Raw||a.type===e.CData)&&a.value===""}))c.allowEmpty?(this.stream.write(">"),c.state=t.CloseTag,this.stream.write("</"+o.name+">")):(c.state=t.CloseTag,this.stream.write(c.spaceBeforeSlash+"/>"));else if(c.pretty&&p===1&&(E.type===e.Text||E.type===e.Raw||E.type===e.CData)&&E.value!=null)this.stream.write(">"),c.state=t.InsideTag,c.suppressPrettyCount++,B=!0,this.writeChildNode(E,c,l+1),c.suppressPrettyCount--,B=!1,c.state=t.CloseTag,this.stream.write("</"+o.name+">");else{for(this.stream.write(">"+this.endline(o,c,l)),c.state=t.InsideTag,y=o.children,b=0,O=y.length;b<O;b++)d=y[b],this.writeChildNode(d,c,l+1);c.state=t.CloseTag,this.stream.write(this.indent(o,c,l)+"</"+o.name+">")}return this.stream.write(this.endline(o,c,l)),c.state=t.None,this.closeNode(o,c,l)}processingInstruction(o,c,l){return this.stream.write(super.processingInstruction(o,c,l))}raw(o,c,l){return this.stream.write(super.raw(o,c,l))}text(o,c,l){return this.stream.write(super.text(o,c,l))}dtdAttList(o,c,l){return this.stream.write(super.dtdAttList(o,c,l))}dtdElement(o,c,l){return this.stream.write(super.dtdElement(o,c,l))}dtdEntity(o,c,l){return this.stream.write(super.dtdEntity(o,c,l))}dtdNotation(o,c,l){return this.stream.write(super.dtdNotation(o,c,l))}}}).call(qi)});var Vi=A((ki,J)=>{(function(){var e,t,r,n,i,h,o,c,l;({assign:c,isFunction:l}=H()),r=bt(),n=Mt(),i=Xi(),o=it(),h=Ui(),e=P(),t=Le(),J.exports.create=function(m,w,d,p){var E,b;if(m==null)throw new Error("Root element needs a name.");return p=c({},w,d,p),E=new n(p),b=E.element(m),p.headless||(E.declaration(p),(p.pubID!=null||p.sysID!=null)&&E.dtd(p)),b},J.exports.begin=function(m,w,d){return l(m)&&([w,d]=[m,w],m={}),w?new i(m,w,d):new n(m)},J.exports.stringWriter=function(m){return new o(m)},J.exports.streamWriter=function(m,w){return new h(m,w)},J.exports.implementation=new r,J.exports.nodeType=e,J.exports.writerState=t}).call(ki)});var zi=A(Wi=>{var Bi=Tr(),Hn=Vi();Wi.build=Gn;function Yn(e){function t(r){return r<10?"0"+r:r}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"Z"}var Kn=Object.prototype.toString;function $i(e){var t=Kn.call(e).match(/\[object (.*)\]/);return t&&t[1]}function Gn(e,t){var r={version:"1.0",encoding:"UTF-8"},n={pubid:"-//Apple//DTD PLIST 1.0//EN",sysid:"http://www.apple.com/DTDs/PropertyList-1.0.dtd"},i=Hn.create("plist");return i.dec(r.version,r.encoding,r.standalone),i.dtd(n.pubid,n.sysid),i.att("version","1.0"),Lt(e,i),t||(t={}),t.pretty=t.pretty!==!1,i.end(t)}function Lt(e,t){var r,n,i,h=$i(e);if(h!="Undefined")if(Array.isArray(e))for(t=t.ele("array"),n=0;n<e.length;n++)Lt(e[n],t);else if(Buffer.isBuffer(e))t.ele("data").raw(e.toString("base64"));else if(h=="Object"){t=t.ele("dict");for(i in e)e.hasOwnProperty(i)&&(t.ele("key").txt(i),Lt(e[i],t))}else h=="Number"?(r=e%1===0?"integer":"real",t.ele(r).txt(e.toString())):h=="Date"?t.ele("date").txt(Yn(new Date(e))):h=="Boolean"?t.ele(e?"true":"false"):h=="String"?t.ele("string").txt(e):h=="ArrayBuffer"?t.ele("data").raw(Bi.fromByteArray(e)):e&&e.buffer&&$i(e.buffer)=="ArrayBuffer"?t.ele("data").raw(Bi.fromByteArray(new Uint8Array(e.buffer),t)):h==="Null"&&t.ele("null").txt("")}});var Ki=A(At=>{var Hi=Nr();Object.keys(Hi).forEach(function(e){At[e]=Hi[e]});var Yi=zi();Object.keys(Yi).forEach(function(e){At[e]=Yi[e]})});var Zi=A((Bs,Gi)=>{"use strict";Gi.exports=function(e){if(typeof e!="string")throw new Error("expected a string");return e.split(`
`).map(Zn).filter(Boolean)};function Zn(e,t){if(!e||!e.length||e.charAt(0)==="#")return null;var r=e.split(":");return{username:r[0],password:r[1],uid:r[2],gid:r[3],gecos:r[4],homedir:r[5],shell:r[6]}}});var Ji=A(($s,Qi)=>{"use strict";var Qn=require("fs"),Jn=Zi();function es(){if(process.platform==="win32")return process.env.USERPROFILE?process.env.USERPROFILE:process.env.HOMEDRIVE&&process.env.HOMEPATH?process.env.HOMEDRIVE+process.env.HOMEPATH:process.env.HOME?process.env.HOME:null;if(process.env.HOME)return process.env.HOME;var e=is("/etc/passwd"),t=ts(Jn(e),rs());if(t)return t;var r=process.env.LOGNAME||process.env.USER||process.env.LNAME||process.env.USERNAME;return r?process.platform==="darwin"?"/Users/"+r:"/home/"+r:null}function ts(e,t){for(var r=e.length,n=0;n<r;n++)if(+e[n].uid===t)return e[n].homedir}function rs(){return typeof process.geteuid=="function"?process.geteuid():process.getuid()}function is(e){try{return Qn.readFileSync(e,"utf8")}catch{return""}}Qi.exports=es});var tn=A((Ws,St)=>{"use strict";var en=require("os");typeof en.homedir<"u"?St.exports=en.homedir:St.exports=Ji()});var sn=A((zs,nn)=>{var ns=tn(),rn=require("path");nn.exports=function(t){var r=ns();return t.charCodeAt(0)===126?t.charCodeAt(1)===43?rn.join(process.cwd(),t.slice(2)):r?rn.join(r,t.slice(1)):t:t}});var as={};gn(as,{default:()=>ln});module.exports=yn(as);var X=require("@raycast/api"),Pt=ye(Ki()),ge=ye(require("fs")),Ft=require("os"),Ae=ye(require("node:path")),un=ye(require("node:os")),hn=ye(sn()),st=require("react");var me=require("@raycast/api"),an={local:me.Color.Green,development:me.Color.Blue,testing:me.Color.Purple,staging:me.Color.Orange,production:me.Color.Red};var ee=require("react/jsx-runtime"),on=un.default.homedir(),xt="__EMPTY__",Rt=(0,X.getPreferenceValues)(),ss=ge.default.existsSync(`${(0,Ft.homedir)()}/Library/Application Support/com.tinyapp.TablePlus-setapp/Data/`)?"-setapp":"",nt=Rt.path?(0,hn.default)(Rt.path):`${(0,Ft.homedir)()}/Library/Application Support/com.tinyapp.TablePlus${ss}/Data/`;function ln(){let[e,t]=(0,st.useState)({isLoading:!0});return(0,st.useEffect)(()=>{async function o(){let c=`${nt}/Connections.plist`,l=`${nt}/ConnectionGroups.plist`;if(!ge.default.existsSync(c))(0,X.showToast)(X.Toast.Style.Failure,"Error loading connections","TablePlus data directory not found, add directory path in preferences"),t({isLoading:!1});else{let m=Pt.default.parse(ge.default.readFileSync(c,"utf8")),w=Pt.default.parse(ge.default.readFileSync(l,"utf8")),d=new Map(w.map(p=>[p.ID.toString(),{id:p.ID.toString(),name:p.Name.toString(),connections:[]}]));d.set(xt,{id:xt,name:"Ungrouped",connections:[]}),m.forEach(p=>{let E=p.GroupID?.toString()!==""?p.GroupID?.toString():xt,b={id:p.ID.toString(),groupId:E,name:p.ConnectionName.toString()??"",driver:p.Driver.toString(),isSocket:p.isUseSocket===1,isOverSSH:p.isOverSSH===1,database:p.DatabaseName.toString(),ServerAddress:p.ServerAddress.toString(),DatabaseHost:p.DatabaseHost.toString(),Driver:p.Driver.toString(),Environment:p.Enviroment.toString()};d.get(E)?.connections.push(b)}),t({isLoading:!1,connections:Array.from(d.values())})}}o()},[]),(0,ee.jsxs)(X.List,{isLoading:e.isLoading,searchBarPlaceholder:"Filter connections...",children:[(0,ee.jsx)(X.List.EmptyView,{icon:{source:"no-view.png"},title:"No databases found in TablePlus, go add one!"}),e&&e.connections?.map(o=>{let c=`${o.connections.length} ${i(o.connections.length)}`;return(0,ee.jsx)(X.List.Section,{title:o.name,subtitle:c,children:o.connections.map(l=>(0,ee.jsx)(h,{connection:l},l.id))},o.id)})]});function r(o){let c=Ae.default.normalize(o)+Ae.default.sep;return(c.startsWith(on)?c.replace(on+Ae.default.sep,`~${Ae.default.sep}`):c).slice(0,-1)}function n(o){let c=[];return Rt.showConnectionDriver&&c.push({tag:o.Driver.toString()}),c.push({tag:{color:an[o.Environment],value:o.Environment.charAt(0).toUpperCase()+o.Environment.slice(1)}}),c}function i(o){return`item${o>1?"s":""}`}function h(o){let c=o.connection,l=c.isOverSSH?"SSH":c.isSocket?"SOCKET":c.DatabaseHost;c.database&&c.Driver!=="SQLite"?l+=` : ${c.database}`:c.Driver==="SQLite"&&c.isOverSSH&&(l+=` : ${c.DatabaseHost}`);let m="icon.png";return c.groupId&&ge.default.existsSync(`${nt}/${c.groupId}`)&&(m=`${nt}/${c.groupId}`),(0,ee.jsx)(X.List.Item,{id:c.id,title:c.name,subtitle:r(l),accessories:n(c),icon:m,actions:(0,ee.jsx)(X.ActionPanel,{children:(0,ee.jsx)(X.Action.OpenInBrowser,{title:"Open Database",icon:X.Icon.Coin,url:`tableplus://?id=${c.id}`})})},c.id)}}0&&(module.exports={});
/*!
 * expand-tilde <https://github.com/jonschlinkert/expand-tilde>
 *
 * Copyright (c) 2015 Jon Schlinkert.
 * Licensed under the MIT license.
 */
